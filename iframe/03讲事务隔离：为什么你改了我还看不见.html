<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <style type="text/css">

#watermark {

  position: relative;
  overflow: hidden;
}

#watermark .x {
  position: absolute;
  top: 800;
  left: 400;
  color: #3300ff;
  font-size: 50px;
  pointer-events: none;
  opacity:0.3;
  filter:Alpha(opacity=50);
  
  
}
    </style>


    <style type="text/css">
 html{color:#333;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-rendering:optimizelegibility;font-family:Helvetica Neue,PingFang SC,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif}html.borderbox *,html.borderbox :after,html.borderbox :before{box-sizing:border-box}article,aside,blockquote,body,button,code,dd,details,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hr,input,legend,li,menu,nav,ol,p,pre,section,td,textarea,th,ul{margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}audio,canvas,video{display:inline-block}body,button,input,select,textarea{font:300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}blockquote{position:relative;color:#999;font-weight:400;border-left:1px solid #1abc9c;padding-left:1em;margin:1em 3em 1em 2em}@media only screen and (max-width:640px){blockquote{margin:1em 0}}abbr,acronym{border-bottom:1px dotted;font-variant:normal}abbr{cursor:help}del{text-decoration:line-through}address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:400}ol,ul{list-style:none}caption,th{text-align:left}q:after,q:before{content:""}sub,sup{font-size:75%;line-height:0;position:relative}:root sub,:root sup{vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}a{color:#1abc9c}a:hover{text-decoration:underline}.typo a{border-bottom:1px solid #1abc9c}.typo a:hover{border-bottom-color:#555;color:#555}.typo a:hover,a,ins{text-decoration:none}.typo-u,u{text-decoration:underline}mark{background:#fffdd1;border-bottom:1px solid #ffedce;padding:2px;margin:0 5px}code,pre,pre tt{font-family:Courier,Courier New,monospace}pre{background:hsla(0,0%,97%,.7);border:1px solid #ddd;padding:1em 1.5em;display:block;-webkit-overflow-scrolling:touch}hr{border:none;border-bottom:1px solid #cfcfcf;margin-bottom:.8em;height:10px}.typo-small,figcaption,small{font-size:.9em;color:#888}b,strong{font-weight:700;color:#000}[draggable]{cursor:move}.clearfix:after,.clearfix:before{content:"";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.textwrap,.textwrap td,.textwrap th{word-wrap:break-word;word-break:break-all}.textwrap-table{table-layout:fixed}.serif{font-family:Palatino,Optima,Georgia,serif}.typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{font-family:PingFang SC,Helvetica Neue,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;color:#000;line-height:1.35}.typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{margin-top:1.2em;margin-bottom:.6em;line-height:1.35}.typo-h1,.typo h1{font-size:2em}.typo-h2,.typo h2{font-size:1.8em}.typo-h3,.typo h3{font-size:1.6em}.typo-h4,.typo h4{font-size:1.4em}.typo-h5,.typo-h6,.typo h5,.typo h6{font-size:1.2em}.typo-ul,.typo ul{margin-left:1.3em;list-style:disc}.typo-ol,.typo ol{list-style:decimal;margin-left:1.9em}.typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul{margin-bottom:.8em;margin-left:2em}.typo-ol ul,.typo-ul ul,.typo li ul{list-style:circle}.typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th{border:1px solid #ddd;padding:.5em 1em;color:#666}.typo-table th,.typo table th{background:#fbfbfb}.typo-table thead th,.typo table thead th{background:hsla(0,0%,95%,.7)}.typo table caption{border-bottom:none}.typo-input,.typo-textarea{-webkit-appearance:none;border-radius:0}.typo-em,.typo em,caption,legend{color:#000;font-weight:inherit}.typo-em{position:relative}.typo-em:after{position:absolute;top:.65em;left:0;width:100%;overflow:hidden;white-space:nowrap;content:"\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"}.typo img{max-width:100%}.common-content{font-weight:400;color:#353535;line-height:1.75rem;white-space:normal;word-break:normal;font-size:1rem}.common-content img{display:block;max-width:100%;background-color:#eee}.common-content audio,.common-content video{width:100%;background-color:#eee}.common-content center,.common-content font{margin-top:1rem;display:inline-block}.common-content center{width:100%}.common-content pre{margin-top:1rem;padding-left:0;padding-right:0;position:relative;overflow:hidden}.common-content pre code{font-size:.8rem;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;width:100%;box-sizing:border-box;padding-left:1rem;padding-right:1rem;overflow-x:auto}.common-content hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}.common-content b,.common-content h1,.common-content h2,.common-content h3,.common-content h4,.common-content h5,.common-content strong{font-weight:700}.common-content h1,.common-content h2{font-size:1.125rem;margin-bottom:.45rem}.common-content h3,.common-content h4,.common-content h5{font-size:1rem;margin-bottom:.45rem}.common-content p{font-weight:400;color:#353535;margin-top:.15rem}.common-content .orange{color:#ff5a05}.common-content .reference{font-size:1rem;color:#888}.custom-rich-content h1{margin-top:0;font-weight:400;font-size:15.25px;border-bottom:1px solid #eee;line-height:2.8}.custom-rich-content li,.custom-rich-content p{font-size:14px;color:#888;line-height:1.6}table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}table.hljs-ln,table.hljs-ln tbody,table.hljs-ln td,table.hljs-ln tr{box-sizing:border-box}table.hljs-ln td{padding:0;border:0}table.hljs-ln td.hljs-ln-numbers{min-width:15px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;user-select:none}table.hljs-ln td.hljs-ln-code,table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;vertical-align:top}table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;color:#24292e;word-wrap:normal;white-space:pre}video::-webkit-media-controls{overflow:hidden!important}video::-webkit-media-controls-enclosure{width:calc(100% + 32px);margin-left:auto}.button-cancel{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel,.button-primary{-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary{color:#fff;background-color:#ff5a05;border-radius:3px}@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot);src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.woff) format("woff"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.ttf) format("truetype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.svg#iconfont) format("svg")}@font-face{font-family:player-font;src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot);src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.woff) format("woff"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.ttf) format("truetype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.svg#player-font) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}html{background:#fff;min-height:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{width:100%}body.fixed{overflow:hidden;position:fixed;width:100vw;height:100vh}i{font-style:normal}a{word-wrap:break-word;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:hover{text-decoration:none}.fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}.MathJax,.MathJax_CHTML,.MathJax_MathContainer,.MathJax_MathML,.MathJax_PHTML,.MathJax_PlainSource,.MathJax_SVG{outline:0}.ios-app-switch .js-audit{display:none}._loading_wrap_{position:fixed;width:100vw;height:100vh;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}._loading_div_class_,._loading_wrap_{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._loading_div_class_{word-wrap:break-word;padding:.5rem .75rem;text-align:center;z-index:9999;font-size:.6rem;max-width:60%;color:#fff;border-radius:.25rem;-ms-flex-direction:column;flex-direction:column}._loading_div_class_ .message{color:#353535;font-size:16px;line-height:3}.spinner{animation:circle-rotator 1.4s linear infinite}.spinner *{line-height:0;box-sizing:border-box}@keyframes circle-rotator{0%{transform:rotate(0deg)}to{transform:rotate(270deg)}}.path{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:circle-dash 1.4s ease-in-out infinite,circle-colors 5.6s ease-in-out infinite}@keyframes circle-colors{0%{stroke:#ff5a05}to{stroke:#ff5a05}}@keyframes circle-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}.confirm-box-wrapper,.confirm-box-wrapper .mask{position:absolute;top:0;left:0;right:0;bottom:0}.confirm-box-wrapper .mask{background:rgba(0,0,0,.6)}.confirm-box-wrapper .confirm-box{position:fixed;top:50%;left:50%;width:267px;background:#fff;transform:translate(-50%,-50%);border-radius:7px}.confirm-box-wrapper .confirm-box .head{margin:0 18px;font-size:18px;text-align:center;line-height:65px;border-bottom:1px solid #d9d9d9}.confirm-box-wrapper .confirm-box .body{padding:18px;padding-bottom:0;color:#353535;font-size:12.5px;max-height:150px;overflow:auto}.confirm-box-wrapper .confirm-box .foot{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:18px}.confirm-box-wrapper .confirm-box .foot .button-cancel{border:1px solid #d9d9d9}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}




    </style>
    <style type="text/css">
        .button-cancel[data-v-87ffcada]{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel[data-v-87ffcada],.button-primary[data-v-87ffcada]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary[data-v-87ffcada]{color:#fff;background-color:#ff5a05;border-radius:3px}.pd[data-v-87ffcada]{padding-left:1.375rem;padding-right:1.375rem}.article[data-v-87ffcada]{max-width:70rem;margin:0 auto}.article .article-unavailable[data-v-87ffcada]{color:#fa8919;font-size:15px;font-weight:600;line-height:24px;border-radius:5px;padding:12px;background-color:#f6f7fb;margin-top:20px}.article .article-unavailable .iconfont[data-v-87ffcada]{font-size:12px}.article .main[data-v-87ffcada]{padding:1.25rem 0;margin-bottom:52px}.article-title[data-v-87ffcada]{color:#353535;font-weight:400;line-height:1.65rem;font-size:1.34375rem}.article-info[data-v-87ffcada]{color:#888;font-size:.9375rem;margin-top:1.0625rem}.article-content[data-v-87ffcada]{margin-top:1.0625rem}.article-content.android video[data-v-87ffcada]::-webkit-media-controls-fullscreen-button{display:none}.copyright[data-v-87ffcada]{color:#b2b2b2;padding-bottom:20px;margin-top:20px;font-size:13px}.audio-player[data-v-87ffcada]{width:100%;margin:20px 0}.to-comment[data-v-87ffcada]{overflow:hidden;padding-top:10px;margin-bottom:-30px}.to-comment a.button-primary[data-v-87ffcada]{float:right;height:20px;font-size:12px;line-height:20px;padding:4px 8px;cursor:pointer}.article-comments[data-v-87ffcada]{margin-top:2rem}.article-comments h2[data-v-87ffcada]{text-align:center;color:#888;position:relative;z-index:1;margin-bottom:1rem}.article-comments h2[data-v-87ffcada]:before{border-top:1px dotted #888;content:"";position:absolute;top:56%;left:0;width:100%;z-index:-1}.article-comments h2 span[data-v-87ffcada]{font-size:15.25px;font-weight:400;padding:0 1rem;background:#fff;display:inline-block}.article-sub-bottom[data-v-87ffcada]{z-index:10;cursor:pointer}.switch-btns[data-v-87ffcada]{height:76px;cursor:pointer;padding-top:24px;padding-bottom:24px;border-bottom:10px solid #f6f7fb;position:relative}.switch-btns[data-v-87ffcada]:before{content:" ";height:1px;background:#e8e8e8;position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;left:1.375rem;right:1.375rem}.switch-btns .btn[data-v-87ffcada]{height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.switch-btns .btn .tag[data-v-87ffcada]{-webkit-box-flex:0;-ms-flex:0 0 62px;flex:0 0 62px;text-align:center;color:#888;font-size:14px;border-radius:10px;height:22px;line-height:22px;background:#f6f7fb;font-weight:400}.switch-btns .btn .txt[data-v-87ffcada]{margin-left:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#888;font-size:15px;height:22px;line-height:22px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}@media (max-width:769px){.article .breadcrumb[data-v-87ffcada]{padding-top:10px;padding-bottom:10px}}





    </style>

    <style type="text/css">
        .comment-item{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:1rem}.comment-item a{border-bottom:none}.comment-item .avatar{width:2.625rem;height:2.625rem;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}.comment-item .info{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.comment-item .info .hd{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .username{color:#888;font-size:15.25px;font-weight:400;line-height:1.2}.comment-item .info .hd .control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .control .btn-share{color:#888;font-size:.75rem;margin-right:1rem}.comment-item .info .hd .control .btn-praise{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}.comment-item .info .hd .control .btn-praise i{color:#888;display:inline-block;font-size:.75rem;margin-right:.3rem;margin-top:-.01rem}.comment-item .info .hd .control .btn-praise i.on,.comment-item .info .hd .control .btn-praise span{color:#ff5a05}.comment-item .info .bd{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6}.comment-item .info .time{color:#888;font-size:9px;line-height:1}.comment-item .info .reply .reply-hd{font-size:15.25px}.comment-item .info .reply .reply-hd span{margin-left:-12px;color:#888;font-weight:400}.comment-item .info .reply .reply-hd i{color:#ff5a05;font-size:15.25px}.comment-item .info .reply .reply-content{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all}.comment-item .info .reply .reply-time{color:#888;font-size:9px}




    </style>
</head>
<body>
<div id="app">


    <div data-v-87ffcada="" class="article" id="watermark">
        <div data-v-87ffcada="" class="main main-app">
            <h1 data-v-87ffcada="" class="article-title pd">
                03è®²äº‹åŠ¡éš”ç¦»ï¼šä¸ºä»€ä¹ˆä½ æ”¹äº†æˆ‘è¿˜çœ‹ä¸è§
            </h1>
            <div data-v-87ffcada="" class="article-content typo common-content pd"><img data-v-87ffcada=""
                                                                                        src="https://static001.geekbang.org/resource/image/5b/bd/5b414d250e735b9373e46eee3f8c1fbd.jpg">

                <div>
                  <audio controls="controls" height="100" width="100">
                    <source src="03è®²äº‹åŠ¡éš”ç¦»ï¼šä¸ºä»€ä¹ˆä½ æ”¹äº†æˆ‘è¿˜çœ‹ä¸è§.mp3" type="audio/mp3" />
                    <embed height="100" width="100" src="03è®²äº‹åŠ¡éš”ç¦»ï¼šä¸ºä»€ä¹ˆä½ æ”¹äº†æˆ‘è¿˜çœ‹ä¸è§.mp3" />
                  </audio>
                </div>
                <div data-v-87ffcada="" id="article-content" class="">
                    <div class="text">
                        <p>æåˆ°äº‹åŠ¡ï¼Œä½ è‚¯å®šä¸é™Œç”Ÿï¼Œå’Œæ•°æ®åº“æ‰“äº¤é“çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ€»æ˜¯ä¼šç”¨åˆ°äº‹åŠ¡ã€‚æœ€ç»å…¸çš„ä¾‹å­å°±æ˜¯è½¬è´¦ï¼Œä½ è¦ç»™æœ‹å‹å°ç‹è½¬100å—é’±ï¼Œè€Œæ­¤æ—¶ä½ çš„é“¶è¡Œå¡åªæœ‰100å—é’±ã€‚</p><p>è½¬è´¦è¿‡ç¨‹å…·ä½“åˆ°ç¨‹åºé‡Œä¼šæœ‰ä¸€ç³»åˆ—çš„æ“ä½œï¼Œæ¯”å¦‚æŸ¥è¯¢ä½™é¢ã€åšåŠ å‡æ³•ã€æ›´æ–°ä½™é¢ç­‰ï¼Œè¿™äº›æ“ä½œå¿…é¡»ä¿è¯æ˜¯ä¸€ä½“çš„ï¼Œä¸ç„¶ç­‰ç¨‹åºæŸ¥å®Œä¹‹åï¼Œè¿˜æ²¡åšå‡æ³•ä¹‹å‰ï¼Œä½ è¿™100å—é’±ï¼Œå®Œå…¨å¯ä»¥å€Ÿç€è¿™ä¸ªæ—¶é—´å·®å†æŸ¥ä¸€æ¬¡ï¼Œç„¶åå†ç»™å¦å¤–ä¸€ä¸ªæœ‹å‹è½¬è´¦ï¼Œå¦‚æœé“¶è¡Œè¿™ä¹ˆæ•´ï¼Œä¸å°±ä¹±äº†ä¹ˆï¼Ÿè¿™æ—¶å°±è¦ç”¨åˆ°â€œäº‹åŠ¡â€è¿™ä¸ªæ¦‚å¿µäº†ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œäº‹åŠ¡å°±æ˜¯è¦ä¿è¯ä¸€ç»„æ•°æ®åº“æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚åœ¨MySQLä¸­ï¼Œäº‹åŠ¡æ”¯æŒæ˜¯åœ¨å¼•æ“å±‚å®ç°çš„ã€‚ä½ ç°åœ¨çŸ¥é“ï¼ŒMySQLæ˜¯ä¸€ä¸ªæ”¯æŒå¤šå¼•æ“çš„ç³»ç»Ÿï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„å¼•æ“éƒ½æ”¯æŒäº‹åŠ¡ã€‚æ¯”å¦‚MySQLåŸç”Ÿçš„MyISAMå¼•æ“å°±ä¸æ”¯æŒäº‹åŠ¡ï¼Œè¿™ä¹Ÿæ˜¯MyISAMè¢«InnoDBå–ä»£çš„é‡è¦åŸå› ä¹‹ä¸€ã€‚</p><p>ä»Šå¤©çš„æ–‡ç« é‡Œï¼Œæˆ‘å°†ä¼šä»¥InnoDBä¸ºä¾‹ï¼Œå‰–æMySQLåœ¨äº‹åŠ¡æ”¯æŒæ–¹é¢çš„ç‰¹å®šå®ç°ï¼Œå¹¶åŸºäºåŸç†ç»™å‡ºç›¸åº”çš„å®è·µå»ºè®®ï¼Œå¸Œæœ›è¿™äº›æ¡ˆä¾‹èƒ½åŠ æ·±ä½ å¯¹MySQLäº‹åŠ¡åŸç†çš„ç†è§£ã€‚</p><h1>éš”ç¦»æ€§ä¸éš”ç¦»çº§åˆ«</h1><p>æåˆ°äº‹åŠ¡ï¼Œä½ è‚¯å®šä¼šæƒ³åˆ°ACIDï¼ˆAtomicityã€Consistencyã€Isolationã€Durabilityï¼Œå³åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼‰ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥è¯´è¯´å…¶ä¸­Iï¼Œä¹Ÿå°±æ˜¯â€œéš”ç¦»æ€§â€ã€‚</p><!-- [[[read_end]]] --><p>å½“æ•°æ®åº“ä¸Šæœ‰å¤šä¸ªäº‹åŠ¡åŒæ—¶æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±å¯èƒ½å‡ºç°è„è¯»ï¼ˆdirty readï¼‰ã€ä¸å¯é‡å¤è¯»ï¼ˆnon-repeatable readï¼‰ã€å¹»è¯»ï¼ˆphantom readï¼‰çš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œå°±æœ‰äº†â€œéš”ç¦»çº§åˆ«â€çš„æ¦‚å¿µã€‚</p><p>åœ¨è°ˆéš”ç¦»çº§åˆ«ä¹‹å‰ï¼Œä½ é¦–å…ˆè¦çŸ¥é“ï¼Œä½ éš”ç¦»å¾—è¶Šä¸¥å®ï¼Œæ•ˆç‡å°±ä¼šè¶Šä½ã€‚å› æ­¤å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½è¦åœ¨äºŒè€…ä¹‹é—´å¯»æ‰¾ä¸€ä¸ªå¹³è¡¡ç‚¹ã€‚SQLæ ‡å‡†çš„äº‹åŠ¡éš”ç¦»çº§åˆ«åŒ…æ‹¬ï¼šè¯»æœªæäº¤ï¼ˆread uncommittedï¼‰ã€è¯»æäº¤ï¼ˆread committedï¼‰ã€å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰å’Œä¸²è¡ŒåŒ–ï¼ˆserializable ï¼‰ã€‚ä¸‹é¢æˆ‘é€ä¸€ä¸ºä½ è§£é‡Šï¼š</p><ul>
<li>è¯»æœªæäº¤æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡è¿˜æ²¡æäº¤æ—¶ï¼Œå®ƒåšçš„å˜æ›´å°±èƒ½è¢«åˆ«çš„äº‹åŠ¡çœ‹åˆ°ã€‚</li>
<li>è¯»æäº¤æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡æäº¤ä¹‹åï¼Œå®ƒåšçš„å˜æ›´æ‰ä¼šè¢«å…¶ä»–äº‹åŠ¡çœ‹åˆ°ã€‚</li>
<li>å¯é‡å¤è¯»æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çœ‹åˆ°çš„æ•°æ®ï¼Œæ€»æ˜¯è·Ÿè¿™ä¸ªäº‹åŠ¡åœ¨å¯åŠ¨æ—¶çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚å½“ç„¶åœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼Œæœªæäº¤å˜æ›´å¯¹å…¶ä»–äº‹åŠ¡ä¹Ÿæ˜¯ä¸å¯è§çš„ã€‚</li>
<li>ä¸²è¡ŒåŒ–ï¼Œé¡¾åæ€ä¹‰æ˜¯å¯¹äºåŒä¸€è¡Œè®°å½•ï¼Œâ€œå†™â€ä¼šåŠ â€œå†™é”â€ï¼Œâ€œè¯»â€ä¼šåŠ â€œè¯»é”â€ã€‚å½“å‡ºç°è¯»å†™é”å†²çªçš„æ—¶å€™ï¼Œåè®¿é—®çš„äº‹åŠ¡å¿…é¡»ç­‰å‰ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œæˆï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</li>
</ul><p>å…¶ä¸­â€œè¯»æäº¤â€å’Œâ€œå¯é‡å¤è¯»â€æ¯”è¾ƒéš¾ç†è§£ï¼Œæ‰€ä»¥æˆ‘ç”¨ä¸€ä¸ªä¾‹å­è¯´æ˜è¿™å‡ ç§éš”ç¦»çº§åˆ«ã€‚å‡è®¾æ•°æ®è¡¨Tä¸­åªæœ‰ä¸€åˆ—ï¼Œå…¶ä¸­ä¸€è¡Œçš„å€¼ä¸º1ï¼Œä¸‹é¢æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºæ‰§è¡Œä¸¤ä¸ªäº‹åŠ¡çš„è¡Œä¸ºã€‚</p><pre><code>mysql&gt; create table T(c int) engine=InnoDB;
insert into T(c) values(1);
</code></pre><p><img src="https://static001.geekbang.org/resource/image/7d/f8/7dea45932a6b722eb069d2264d0066f8.png" alt=""><br>
æˆ‘ä»¬æ¥çœ‹çœ‹åœ¨ä¸åŒçš„éš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡Aä¼šæœ‰å“ªäº›ä¸åŒçš„è¿”å›ç»“æœï¼Œä¹Ÿå°±æ˜¯å›¾é‡Œé¢V1ã€V2ã€V3çš„è¿”å›å€¼åˆ†åˆ«æ˜¯ä»€ä¹ˆã€‚</p><ul>
<li>è‹¥éš”ç¦»çº§åˆ«æ˜¯â€œè¯»æœªæäº¤â€ï¼Œ åˆ™V1çš„å€¼å°±æ˜¯2ã€‚è¿™æ—¶å€™äº‹åŠ¡Bè™½ç„¶è¿˜æ²¡æœ‰æäº¤ï¼Œä½†æ˜¯ç»“æœå·²ç»è¢«Açœ‹åˆ°äº†ã€‚å› æ­¤ï¼ŒV2ã€V3ä¹Ÿéƒ½æ˜¯2ã€‚</li>
<li>è‹¥éš”ç¦»çº§åˆ«æ˜¯â€œè¯»æäº¤â€ï¼Œåˆ™V1æ˜¯1ï¼ŒV2çš„å€¼æ˜¯2ã€‚äº‹åŠ¡Bçš„æ›´æ–°åœ¨æäº¤åæ‰èƒ½è¢«Açœ‹åˆ°ã€‚æ‰€ä»¥ï¼Œ V3çš„å€¼ä¹Ÿæ˜¯2ã€‚</li>
<li>è‹¥éš”ç¦»çº§åˆ«æ˜¯â€œå¯é‡å¤è¯»â€ï¼Œåˆ™V1ã€V2æ˜¯1ï¼ŒV3æ˜¯2ã€‚ä¹‹æ‰€ä»¥V2è¿˜æ˜¯1ï¼Œéµå¾ªçš„å°±æ˜¯è¿™ä¸ªè¦æ±‚ï¼šäº‹åŠ¡åœ¨æ‰§è¡ŒæœŸé—´çœ‹åˆ°çš„æ•°æ®å‰åå¿…é¡»æ˜¯ä¸€è‡´çš„ã€‚</li>
<li>è‹¥éš”ç¦»çº§åˆ«æ˜¯â€œä¸²è¡ŒåŒ–â€ï¼Œåˆ™åœ¨äº‹åŠ¡Bæ‰§è¡Œâ€œå°†1æ”¹æˆ2â€çš„æ—¶å€™ï¼Œä¼šè¢«é”ä½ã€‚ç›´åˆ°äº‹åŠ¡Aæäº¤åï¼Œäº‹åŠ¡Bæ‰å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚æ‰€ä»¥ä»Açš„è§’åº¦çœ‹ï¼Œ V1ã€V2å€¼æ˜¯1ï¼ŒV3çš„å€¼æ˜¯2ã€‚</li>
</ul><p>åœ¨å®ç°ä¸Šï¼Œæ•°æ®åº“é‡Œé¢ä¼šåˆ›å»ºä¸€ä¸ªè§†å›¾ï¼Œè®¿é—®çš„æ—¶å€™ä»¥è§†å›¾çš„é€»è¾‘ç»“æœä¸ºå‡†ã€‚åœ¨â€œå¯é‡å¤è¯»â€éš”ç¦»çº§åˆ«ä¸‹ï¼Œè¿™ä¸ªè§†å›¾æ˜¯åœ¨äº‹åŠ¡å¯åŠ¨æ—¶åˆ›å»ºçš„ï¼Œæ•´ä¸ªäº‹åŠ¡å­˜åœ¨æœŸé—´éƒ½ç”¨è¿™ä¸ªè§†å›¾ã€‚åœ¨â€œè¯»æäº¤â€éš”ç¦»çº§åˆ«ä¸‹ï¼Œè¿™ä¸ªè§†å›¾æ˜¯åœ¨æ¯ä¸ªSQLè¯­å¥å¼€å§‹æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºçš„ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œâ€œè¯»æœªæäº¤â€éš”ç¦»çº§åˆ«ä¸‹ç›´æ¥è¿”å›è®°å½•ä¸Šçš„æœ€æ–°å€¼ï¼Œæ²¡æœ‰è§†å›¾æ¦‚å¿µï¼›è€Œâ€œä¸²è¡ŒåŒ–â€éš”ç¦»çº§åˆ«ä¸‹ç›´æ¥ç”¨åŠ é”çš„æ–¹å¼æ¥é¿å…å¹¶è¡Œè®¿é—®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ä¸åŒçš„éš”ç¦»çº§åˆ«ä¸‹ï¼Œæ•°æ®åº“è¡Œä¸ºæ˜¯æœ‰æ‰€ä¸åŒçš„ã€‚Oracleæ•°æ®åº“çš„é»˜è®¤éš”ç¦»çº§åˆ«å…¶å®å°±æ˜¯â€œè¯»æäº¤â€ï¼Œå› æ­¤å¯¹äºä¸€äº›ä»Oracleè¿ç§»åˆ°MySQLçš„åº”ç”¨ï¼Œä¸ºä¿è¯æ•°æ®åº“éš”ç¦»çº§åˆ«çš„ä¸€è‡´ï¼Œä½ ä¸€å®šè¦è®°å¾—å°†MySQLçš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºâ€œè¯»æäº¤â€ã€‚</p><p>é…ç½®çš„æ–¹å¼æ˜¯ï¼Œå°†å¯åŠ¨å‚æ•°transaction-isolationçš„å€¼è®¾ç½®æˆREAD-COMMITTEDã€‚ä½ å¯ä»¥ç”¨show variablesæ¥æŸ¥çœ‹å½“å‰çš„å€¼ã€‚</p><pre><code>mysql&gt; show variables like 'transaction_isolation';

+-----------------------+----------------+

| Variable_name | Value |

+-----------------------+----------------+

| transaction_isolation | READ-COMMITTED |

+-----------------------+----------------+
</code></pre><p>æ€»ç»“æ¥è¯´ï¼Œå­˜åœ¨å³åˆç†ï¼Œå“ªä¸ªéš”ç¦»çº§åˆ«éƒ½æœ‰å®ƒè‡ªå·±çš„ä½¿ç”¨åœºæ™¯ï¼Œä½ è¦æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡æƒ…å†µæ¥å®šã€‚æˆ‘æƒ³<strong>ä½ å¯èƒ½ä¼šé—®é‚£ä»€ä¹ˆæ—¶å€™éœ€è¦â€œå¯é‡å¤è¯»â€çš„åœºæ™¯å‘¢</strong>ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ•°æ®æ ¡å¯¹é€»è¾‘çš„æ¡ˆä¾‹ã€‚</p><p>å‡è®¾ä½ åœ¨ç®¡ç†ä¸€ä¸ªä¸ªäººé“¶è¡Œè´¦æˆ·è¡¨ã€‚ä¸€ä¸ªè¡¨å­˜äº†æ¯ä¸ªæœˆæœˆåº•çš„ä½™é¢ï¼Œä¸€ä¸ªè¡¨å­˜äº†è´¦å•æ˜ç»†ã€‚è¿™æ—¶å€™ä½ è¦åšæ•°æ®æ ¡å¯¹ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­ä¸Šä¸ªæœˆçš„ä½™é¢å’Œå½“å‰ä½™é¢çš„å·®é¢ï¼Œæ˜¯å¦ä¸æœ¬æœˆçš„è´¦å•æ˜ç»†ä¸€è‡´ã€‚ä½ ä¸€å®šå¸Œæœ›åœ¨æ ¡å¯¹è¿‡ç¨‹ä¸­ï¼Œå³ä½¿æœ‰ç”¨æˆ·å‘ç”Ÿäº†ä¸€ç¬”æ–°çš„äº¤æ˜“ï¼Œä¹Ÿä¸å½±å“ä½ çš„æ ¡å¯¹ç»“æœã€‚</p><p>è¿™æ—¶å€™ä½¿ç”¨â€œå¯é‡å¤è¯»â€éš”ç¦»çº§åˆ«å°±å¾ˆæ–¹ä¾¿ã€‚äº‹åŠ¡å¯åŠ¨æ—¶çš„è§†å›¾å¯ä»¥è®¤ä¸ºæ˜¯é™æ€çš„ï¼Œä¸å—å…¶ä»–äº‹åŠ¡æ›´æ–°çš„å½±å“ã€‚</p><h1>äº‹åŠ¡éš”ç¦»çš„å®ç°</h1><p>ç†è§£äº†äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹äº‹åŠ¡éš”ç¦»å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„ã€‚è¿™é‡Œæˆ‘ä»¬å±•å¼€è¯´æ˜â€œå¯é‡å¤è¯»â€ã€‚</p><p>åœ¨MySQLä¸­ï¼Œå®é™…ä¸Šæ¯æ¡è®°å½•åœ¨æ›´æ–°çš„æ—¶å€™éƒ½ä¼šåŒæ—¶è®°å½•ä¸€æ¡å›æ»šæ“ä½œã€‚è®°å½•ä¸Šçš„æœ€æ–°å€¼ï¼Œé€šè¿‡å›æ»šæ“ä½œï¼Œéƒ½å¯ä»¥å¾—åˆ°å‰ä¸€ä¸ªçŠ¶æ€çš„å€¼ã€‚</p><p>å‡è®¾ä¸€ä¸ªå€¼ä»1è¢«æŒ‰é¡ºåºæ”¹æˆäº†2ã€3ã€4ï¼Œåœ¨å›æ»šæ—¥å¿—é‡Œé¢å°±ä¼šæœ‰ç±»ä¼¼ä¸‹é¢çš„è®°å½•ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/d9/ee/d9c313809e5ac148fc39feff532f0fee.png" alt=""><br>
å½“å‰å€¼æ˜¯4ï¼Œä½†æ˜¯åœ¨æŸ¥è¯¢è¿™æ¡è®°å½•çš„æ—¶å€™ï¼Œä¸åŒæ—¶åˆ»å¯åŠ¨çš„äº‹åŠ¡ä¼šæœ‰ä¸åŒçš„read-viewã€‚å¦‚å›¾ä¸­çœ‹åˆ°çš„ï¼Œåœ¨è§†å›¾Aã€Bã€Cé‡Œé¢ï¼Œè¿™ä¸€ä¸ªè®°å½•çš„å€¼åˆ†åˆ«æ˜¯1ã€2ã€4ï¼ŒåŒä¸€æ¡è®°å½•åœ¨ç³»ç»Ÿä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªç‰ˆæœ¬ï¼Œå°±æ˜¯æ•°æ®åº“çš„å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰ã€‚å¯¹äºread-view Aï¼Œè¦å¾—åˆ°1ï¼Œå°±å¿…é¡»å°†å½“å‰å€¼ä¾æ¬¡æ‰§è¡Œå›¾ä¸­æ‰€æœ‰çš„å›æ»šæ“ä½œå¾—åˆ°ã€‚</p><p>åŒæ—¶ä½ ä¼šå‘ç°ï¼Œå³ä½¿ç°åœ¨æœ‰å¦å¤–ä¸€ä¸ªäº‹åŠ¡æ­£åœ¨å°†4æ”¹æˆ5ï¼Œè¿™ä¸ªäº‹åŠ¡è·Ÿread-view Aã€Bã€Cå¯¹åº”çš„äº‹åŠ¡æ˜¯ä¸ä¼šå†²çªçš„ã€‚</p><p>ä½ ä¸€å®šä¼šé—®ï¼Œå›æ»šæ—¥å¿—æ€»ä¸èƒ½ä¸€ç›´ä¿ç•™å§ï¼Œä»€ä¹ˆæ—¶å€™åˆ é™¤å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œåœ¨ä¸éœ€è¦çš„æ—¶å€™æ‰åˆ é™¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿä¼šåˆ¤æ–­ï¼Œå½“æ²¡æœ‰äº‹åŠ¡å†éœ€è¦ç”¨åˆ°è¿™äº›å›æ»šæ—¥å¿—æ—¶ï¼Œå›æ»šæ—¥å¿—ä¼šè¢«åˆ é™¤ã€‚</p><p>ä»€ä¹ˆæ—¶å€™æ‰ä¸éœ€è¦äº†å‘¢ï¼Ÿå°±æ˜¯å½“ç³»ç»Ÿé‡Œæ²¡æœ‰æ¯”è¿™ä¸ªå›æ»šæ—¥å¿—æ›´æ—©çš„read-viewçš„æ—¶å€™ã€‚</p><p>åŸºäºä¸Šé¢çš„è¯´æ˜ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹ä¸ºä»€ä¹ˆå»ºè®®ä½ å°½é‡ä¸è¦ä½¿ç”¨é•¿äº‹åŠ¡ã€‚</p><p>é•¿äº‹åŠ¡æ„å‘³ç€ç³»ç»Ÿé‡Œé¢ä¼šå­˜åœ¨å¾ˆè€çš„äº‹åŠ¡è§†å›¾ã€‚ç”±äºè¿™äº›äº‹åŠ¡éšæ—¶å¯èƒ½è®¿é—®æ•°æ®åº“é‡Œé¢çš„ä»»ä½•æ•°æ®ï¼Œæ‰€ä»¥è¿™ä¸ªäº‹åŠ¡æäº¤ä¹‹å‰ï¼Œæ•°æ®åº“é‡Œé¢å®ƒå¯èƒ½ç”¨åˆ°çš„å›æ»šè®°å½•éƒ½å¿…é¡»ä¿ç•™ï¼Œè¿™å°±ä¼šå¯¼è‡´å¤§é‡å ç”¨å­˜å‚¨ç©ºé—´ã€‚</p><p>åœ¨MySQL 5.5åŠä»¥å‰çš„ç‰ˆæœ¬ï¼Œå›æ»šæ—¥å¿—æ˜¯è·Ÿæ•°æ®å­—å…¸ä¸€èµ·æ”¾åœ¨ibdataæ–‡ä»¶é‡Œçš„ï¼Œå³ä½¿é•¿äº‹åŠ¡æœ€ç»ˆæäº¤ï¼Œå›æ»šæ®µè¢«æ¸…ç†ï¼Œæ–‡ä»¶ä¹Ÿä¸ä¼šå˜å°ã€‚æˆ‘è§è¿‡æ•°æ®åªæœ‰20GBï¼Œè€Œå›æ»šæ®µæœ‰200GBçš„åº“ã€‚æœ€ç»ˆåªå¥½ä¸ºäº†æ¸…ç†å›æ»šæ®µï¼Œé‡å»ºæ•´ä¸ªåº“ã€‚</p><p>é™¤äº†å¯¹å›æ»šæ®µçš„å½±å“ï¼Œé•¿äº‹åŠ¡è¿˜å ç”¨é”èµ„æºï¼Œä¹Ÿå¯èƒ½æ‹–å®æ•´ä¸ªåº“ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¼šåœ¨åé¢è®²é”çš„æ—¶å€™å±•å¼€ã€‚</p><h1>äº‹åŠ¡çš„å¯åŠ¨æ–¹å¼</h1><p>å¦‚å‰é¢æ‰€è¿°ï¼Œé•¿äº‹åŠ¡æœ‰è¿™äº›æ½œåœ¨é£é™©ï¼Œæˆ‘å½“ç„¶æ˜¯å»ºè®®ä½ å°½é‡é¿å…ã€‚å…¶å®å¾ˆå¤šæ—¶å€™ä¸šåŠ¡å¼€å‘åŒå­¦å¹¶ä¸æ˜¯æœ‰æ„ä½¿ç”¨é•¿äº‹åŠ¡ï¼Œé€šå¸¸æ˜¯ç”±äºè¯¯ç”¨æ‰€è‡´ã€‚MySQLçš„äº‹åŠ¡å¯åŠ¨æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ol>
<li>
<p>æ˜¾å¼å¯åŠ¨äº‹åŠ¡è¯­å¥ï¼Œ begin æˆ– start transactionã€‚é…å¥—çš„æäº¤è¯­å¥æ˜¯commitï¼Œå›æ»šè¯­å¥æ˜¯rollbackã€‚</p>
</li>
<li>
<p>set autocommit=0ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šå°†è¿™ä¸ªçº¿ç¨‹çš„è‡ªåŠ¨æäº¤å…³æ‰ã€‚æ„å‘³ç€å¦‚æœä½ åªæ‰§è¡Œä¸€ä¸ªselectè¯­å¥ï¼Œè¿™ä¸ªäº‹åŠ¡å°±å¯åŠ¨äº†ï¼Œè€Œä¸”å¹¶ä¸ä¼šè‡ªåŠ¨æäº¤ã€‚è¿™ä¸ªäº‹åŠ¡æŒç»­å­˜åœ¨ç›´åˆ°ä½ ä¸»åŠ¨æ‰§è¡Œcommit æˆ– rollback è¯­å¥ï¼Œæˆ–è€…æ–­å¼€è¿æ¥ã€‚</p>
</li>
</ol><p>æœ‰äº›å®¢æˆ·ç«¯è¿æ¥æ¡†æ¶ä¼šé»˜è®¤è¿æ¥æˆåŠŸåå…ˆæ‰§è¡Œä¸€ä¸ªset autocommit=0çš„å‘½ä»¤ã€‚è¿™å°±å¯¼è‡´æ¥ä¸‹æ¥çš„æŸ¥è¯¢éƒ½åœ¨äº‹åŠ¡ä¸­ï¼Œå¦‚æœæ˜¯é•¿è¿æ¥ï¼Œå°±å¯¼è‡´äº†æ„å¤–çš„é•¿äº‹åŠ¡ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä¼šå»ºè®®ä½ æ€»æ˜¯ä½¿ç”¨set autocommit=1, é€šè¿‡æ˜¾å¼è¯­å¥çš„æ–¹å¼æ¥å¯åŠ¨äº‹åŠ¡ã€‚</p><p>ä½†æ˜¯æœ‰çš„å¼€å‘åŒå­¦ä¼šçº ç»“â€œå¤šä¸€æ¬¡äº¤äº’â€çš„é—®é¢˜ã€‚å¯¹äºä¸€ä¸ªéœ€è¦é¢‘ç¹ä½¿ç”¨äº‹åŠ¡çš„ä¸šåŠ¡ï¼Œç¬¬äºŒç§æ–¹å¼æ¯ä¸ªäº‹åŠ¡åœ¨å¼€å§‹æ—¶éƒ½ä¸éœ€è¦ä¸»åŠ¨æ‰§è¡Œä¸€æ¬¡ â€œbeginâ€ï¼Œå‡å°‘äº†è¯­å¥çš„äº¤äº’æ¬¡æ•°ã€‚å¦‚æœä½ ä¹Ÿæœ‰è¿™ä¸ªé¡¾è™‘ï¼Œæˆ‘å»ºè®®ä½ ä½¿ç”¨commit work and chainè¯­æ³•ã€‚</p><p>åœ¨autocommitä¸º1çš„æƒ…å†µä¸‹ï¼Œç”¨beginæ˜¾å¼å¯åŠ¨çš„äº‹åŠ¡ï¼Œå¦‚æœæ‰§è¡Œcommitåˆ™æäº¤äº‹åŠ¡ã€‚å¦‚æœæ‰§è¡Œ commit work and chainï¼Œåˆ™æ˜¯æäº¤äº‹åŠ¡å¹¶è‡ªåŠ¨å¯åŠ¨ä¸‹ä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™æ ·ä¹Ÿçœå»äº†å†æ¬¡æ‰§è¡Œbeginè¯­å¥çš„å¼€é”€ã€‚åŒæ—¶å¸¦æ¥çš„å¥½å¤„æ˜¯ä»ç¨‹åºå¼€å‘çš„è§’åº¦æ˜ç¡®åœ°çŸ¥é“æ¯ä¸ªè¯­å¥æ˜¯å¦å¤„äºäº‹åŠ¡ä¸­ã€‚</p><p>ä½ å¯ä»¥åœ¨information_schemaåº“çš„innodb_trxè¿™ä¸ªè¡¨ä¸­æŸ¥è¯¢é•¿äº‹åŠ¡ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªè¯­å¥ï¼Œç”¨äºæŸ¥æ‰¾æŒç»­æ—¶é—´è¶…è¿‡60sçš„äº‹åŠ¡ã€‚</p><pre><code>select * from information_schema.innodb_trx where TIME_TO_SEC(timediff(now(),trx_started))&gt;60
</code></pre><h1>å°ç»“</h1><p>è¿™ç¯‡æ–‡ç« é‡Œé¢ï¼Œæˆ‘ä»‹ç»äº†MySQLçš„äº‹åŠ¡éš”ç¦»çº§åˆ«çš„ç°è±¡å’Œå®ç°ï¼Œæ ¹æ®å®ç°åŸç†åˆ†æäº†é•¿äº‹åŠ¡å­˜åœ¨çš„é£é™©ï¼Œä»¥åŠå¦‚ä½•ç”¨æ­£ç¡®çš„æ–¹å¼é¿å…é•¿äº‹åŠ¡ã€‚å¸Œæœ›æˆ‘ä¸¾çš„ä¾‹å­èƒ½å¤Ÿå¸®åŠ©ä½ ç†è§£äº‹åŠ¡ï¼Œå¹¶æ›´å¥½åœ°ä½¿ç”¨MySQLçš„äº‹åŠ¡ç‰¹æ€§ã€‚</p><p>æˆ‘ç»™ä½ ç•™ä¸€ä¸ªé—®é¢˜å§ã€‚ä½ ç°åœ¨çŸ¥é“äº†ç³»ç»Ÿé‡Œé¢åº”è¯¥é¿å…é•¿äº‹åŠ¡ï¼Œå¦‚æœä½ æ˜¯ä¸šåŠ¡å¼€å‘è´Ÿè´£äººåŒæ—¶ä¹Ÿæ˜¯æ•°æ®åº“è´Ÿè´£äººï¼Œä½ ä¼šæœ‰ä»€ä¹ˆæ–¹æ¡ˆæ¥é¿å…å‡ºç°æˆ–è€…å¤„ç†è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠä½ çš„æ€è€ƒå’Œè§‚ç‚¹å†™åœ¨ç•™è¨€åŒºé‡Œï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« çš„æœ«å°¾å’Œä½ è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><h1>ä¸ŠæœŸé—®é¢˜æ—¶é—´</h1><p>åœ¨ä¸ŠæœŸæ–‡ç« çš„æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸‹çš„é—®é¢˜æ˜¯ä¸€å¤©ä¸€å¤‡è·Ÿä¸€å‘¨ä¸€å¤‡çš„å¯¹æ¯”ã€‚</p><p>å¥½å¤„æ˜¯â€œæœ€é•¿æ¢å¤æ—¶é—´â€æ›´çŸ­ã€‚</p><p>åœ¨ä¸€å¤©ä¸€å¤‡çš„æ¨¡å¼é‡Œï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦åº”ç”¨ä¸€å¤©çš„binlogã€‚æ¯”å¦‚ï¼Œä½ æ¯å¤©0ç‚¹åšä¸€æ¬¡å…¨é‡å¤‡ä»½ï¼Œè€Œè¦æ¢å¤å‡ºä¸€ä¸ªåˆ°æ˜¨å¤©æ™šä¸Š23ç‚¹çš„å¤‡ä»½ã€‚</p><p>ä¸€å‘¨ä¸€å¤‡æœ€åæƒ…å†µå°±è¦åº”ç”¨ä¸€å‘¨çš„binlogäº†ã€‚</p><p>ç³»ç»Ÿçš„å¯¹åº”æŒ‡æ ‡å°±æ˜¯ @å°¼å¤æ‹‰æ–¯Â·èµµå›› @æ…•å¡” æåˆ°çš„RTOï¼ˆæ¢å¤ç›®æ ‡æ—¶é—´ï¼‰ã€‚</p><p>å½“ç„¶è¿™ä¸ªæ˜¯æœ‰æˆæœ¬çš„ï¼Œå› ä¸ºæ›´é¢‘ç¹å…¨é‡å¤‡ä»½éœ€è¦æ¶ˆè€—æ›´å¤šå­˜å‚¨ç©ºé—´ï¼Œæ‰€ä»¥è¿™ä¸ªRTOæ˜¯æˆæœ¬æ¢æ¥çš„ï¼Œå°±éœ€è¦ä½ æ ¹æ®ä¸šåŠ¡é‡è¦æ€§æ¥è¯„ä¼°äº†ã€‚</p><p>åŒæ—¶ä¹Ÿæ„Ÿè°¢ @super blue catã€@é«˜æ•ã€@Jason ç•™ä¸‹äº†é«˜è´¨é‡çš„è¯„è®ºã€‚</p><p><img src="https://static001.geekbang.org/resource/image/ce/d9/ce7f4e35916ed1aa49206a53a0547bd9.jpg" alt=""></p>
                    </div>
                </div>

            </div>
            <div data-v-87ffcada="" class="article-comments pd"><h2 data-v-87ffcada=""><span
                    data-v-87ffcada="">ç²¾é€‰ç•™è¨€</span></h2>
                <ul data-v-87ffcada="">
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/ab/e1/f6b921fa.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å£¹ç¬™â˜æ¼‚æ³Š</span>
                            </div>
                            <div class="bd">1ã€åŠ¡çš„ç‰¹æ€§ï¼šåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§<br>2ã€å¤šäº‹åŠ¡åŒæ—¶æ‰§è¡Œçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜ï¼šè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»<br>3ã€äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼šè¯»æœªæäº¤ã€è¯»æäº¤ã€å¯é‡å¤è¯»ã€ä¸²è¡ŒåŒ–<br>4ã€ä¸åŒäº‹åŠ¡éš”ç¦»çº§åˆ«çš„åŒºåˆ«ï¼š<br>	è¯»æœªæäº¤ï¼šä¸€ä¸ªäº‹åŠ¡è¿˜æœªæäº¤ï¼Œå®ƒæ‰€åšçš„å˜æ›´å°±å¯ä»¥è¢«åˆ«çš„äº‹åŠ¡çœ‹åˆ°<br>	è¯»æäº¤ï¼šä¸€ä¸ªäº‹åŠ¡æäº¤ä¹‹åï¼Œå®ƒæ‰€åšçš„å˜æ›´æ‰å¯ä»¥è¢«åˆ«çš„äº‹åŠ¡çœ‹åˆ°<br>	å¯é‡å¤è¯»ï¼šä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚æœªæäº¤çš„æ›´æ”¹å¯¹å…¶ä»–äº‹åŠ¡æ˜¯ä¸å¯è§çš„<br>	ä¸²è¡ŒåŒ–ï¼šå¯¹åº”ä¸€ä¸ªè®°å½•ä¼šåŠ è¯»å†™é”ï¼Œå‡ºç°å†²çªçš„æ—¶å€™ï¼Œåè®¿é—®çš„äº‹åŠ¡å¿…é¡»ç­‰å‰ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œæˆæ‰èƒ½ç»§ç»­æ‰§è¡Œ<br>5ã€é…ç½®æ–¹æ³•ï¼šå¯åŠ¨å‚æ•°transaction-isolation<br>6ã€äº‹åŠ¡éš”ç¦»çš„å®ç°ï¼šæ¯æ¡è®°å½•åœ¨æ›´æ–°çš„æ—¶å€™éƒ½ä¼šåŒæ—¶è®°å½•ä¸€æ¡å›æ»šæ“ä½œã€‚åŒä¸€æ¡è®°å½•åœ¨ç³»ç»Ÿä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªç‰ˆæœ¬ï¼Œè¿™å°±æ˜¯æ•°æ®åº“çš„å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰ã€‚<br>7ã€å›æ»šæ—¥å¿—ä»€ä¹ˆæ—¶å€™åˆ é™¤ï¼Ÿç³»ç»Ÿä¼šåˆ¤æ–­å½“æ²¡æœ‰äº‹åŠ¡éœ€è¦ç”¨åˆ°è¿™äº›å›æ»šæ—¥å¿—çš„æ—¶å€™ï¼Œå›æ»šæ—¥å¿—ä¼šè¢«åˆ é™¤ã€‚<br>8ã€ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦äº†ï¼Ÿå½“ç³»ç»Ÿé‡Œä¹ˆæœ‰æ¯”è¿™ä¸ªå›æ»šæ—¥å¿—æ›´æ—©çš„read-viewçš„æ—¶å€™ã€‚<br>9ã€ä¸ºä»€ä¹ˆå°½é‡ä¸è¦ä½¿ç”¨é•¿äº‹åŠ¡ã€‚é•¿äº‹åŠ¡æ„å‘³ç€ç³»ç»Ÿé‡Œé¢ä¼šå­˜åœ¨å¾ˆè€çš„äº‹åŠ¡è§†å›¾ï¼Œåœ¨è¿™ä¸ªäº‹åŠ¡æäº¤ä¹‹å‰ï¼Œå›æ»šè®°å½•éƒ½è¦ä¿ç•™ï¼Œè¿™ä¼šå¯¼è‡´å¤§é‡å ç”¨å­˜å‚¨ç©ºé—´ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé•¿äº‹åŠ¡è¿˜å ç”¨é”èµ„æºï¼Œå¯èƒ½ä¼šæ‹–å®åº“ã€‚<br>10ã€äº‹åŠ¡å¯åŠ¨æ–¹å¼ï¼šä¸€ã€æ˜¾å¼å¯åŠ¨äº‹åŠ¡è¯­å¥ï¼Œbeginæˆ–è€…start transaction,æäº¤commitï¼Œå›æ»šrollbackï¼›äºŒã€set autocommit=0ï¼Œè¯¥å‘½ä»¤ä¼šæŠŠè¿™ä¸ªçº¿ç¨‹çš„è‡ªåŠ¨æäº¤å…³æ‰ã€‚è¿™æ ·åªè¦æ‰§è¡Œä¸€ä¸ªselectè¯­å¥ï¼Œäº‹åŠ¡å°±å¯åŠ¨ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨æäº¤ï¼Œç›´åˆ°ä¸»åŠ¨æ‰§è¡Œcommitæˆ–rollbackæˆ–æ–­å¼€è¿æ¥ã€‚<br>11ã€å»ºè®®ä½¿ç”¨æ–¹æ³•ä¸€ï¼Œå¦‚æœè€ƒè™‘å¤šä¸€æ¬¡äº¤äº’é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨commit work and chainè¯­æ³•ã€‚åœ¨autocommit=1çš„æƒ…å†µä¸‹ç”¨beginæ˜¾å¼å¯åŠ¨äº‹åŠ¡ï¼Œå¦‚æœæ‰§è¡Œcommitåˆ™æäº¤äº‹åŠ¡ã€‚å¦‚æœæ‰§è¡Œcommit work and chainåˆ™æäº¤äº‹åŠ¡å¹¶è‡ªåŠ¨å¯åŠ¨ä¸‹ä¸€ä¸ªäº‹åŠ¡ã€‚<br><br>æ€è€ƒé¢˜ï¼š<br><br>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå°½å¯èƒ½çš„å‡å°äº‹åŠ¡èŒƒå›´ï¼Œå°‘ç”¨é•¿äº‹åŠ¡ï¼Œå¦‚æœæ— æ³•é¿å…ï¼Œä¿è¯é€»è¾‘æ—¥å¿—ç©ºé—´è¶³å¤Ÿç”¨ï¼Œå¹¶ä¸”æ”¯æŒåŠ¨æ€æ—¥å¿—ç©ºé—´å¢é•¿ã€‚ç›‘æ§Innodb_trxè¡¨ï¼Œå‘ç°é•¿äº‹åŠ¡æŠ¥è­¦ã€‚<br><br>ç–‘é—®ï¼š<br><br>å…³äºç¬¬äºŒèŠ‚çš„æ€è€ƒé¢˜ï¼Œè¯»é¢˜å¹²çš„æ„æ€ï¼Œæ˜¯åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡æ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿ã€‚è€å¸ˆçš„ç­”æ¡ˆåªæ˜¯ç»™å‡ºäº†ä¸€å¤©ä¸€å¤‡çš„ä¼˜åŠ¿ï¼Œé‚£ä¹ˆé€‚ç”¨åœºæ™¯æ€ä¹ˆç†è§£å‘¢ï¼Ÿ<br><br> <br></div>
                            <span class="time">2018-11-19 13:58</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ€»ç»“å¾—éå¸¸å¥½ğŸ‘ğŸ¿<br><br>ç¬¬äºŒè®²é—®é¢˜ï¼Œå…¶å®å¤‡ä»½æ˜¯å¼ºéœ€æ±‚ï¼Œè‡³äºå¤šå°‘åˆé€‚ï¼Œè¿˜æ˜¯å¾—å¹³è¡¡ä¸šåŠ¡éœ€æ±‚å’Œå­˜å‚¨æˆæœ¬</p>
                                <p class="reply-time">2018-11-19 15:08</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/5d/60/27e0eeee.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ–¯å¦ç¦</span>
                            </div>
                            <div class="bd">é¢„å‘Šï¼šæ—æ™“æ–Œè€å¸ˆå°†åšå®¢æå®¢Liveï¼Œåˆ†äº«ä»–MySQLçš„å¿ƒè·¯å†ç¨‹<br>å‰é˜¿é‡Œä¸å¥‡ï¼šæˆ‘çš„MySQLå¿ƒè·¯å†ç¨‹<br>11æœˆ21æ—¥ï¼ˆå‘¨ä¸‰ï¼‰ 20:30-21:30<br><br>æœ¬æ¬¡ç›´æ’­ï¼Œæ—æ™“æ–Œå°†ç•…è°ˆä¸ªäººæˆé•¿ç»å†ï¼Œåˆ†äº«è‡ªå·±æ˜¯å¦‚ä½•ä»æ•°æ®åº“å°ç™½é€æ­¥æˆé•¿ä¸ºMySQLå†…æ ¸å¼€å‘äººå‘˜çš„ã€‚ä»ä¸šåå‡ å¹´ï¼Œä»–ç»å†äº†å“ªäº›æ¯”è¾ƒé‡è¦çš„äº‹å„¿ï¼Ÿä»–è§‰å¾—ä»€ä¹ˆäº‹å„¿æœ€æœ‰éš¾åº¦ï¼Ÿä»€ä¹ˆäº‹å„¿æœ€æœ‰æˆå°±æ„Ÿï¼Ÿä»–æ˜¯æ€æ ·åº”å¯¹çš„ï¼Ÿ<br>1ã€MySQLæ•°æ®åº“çš„æœ€ä½³å­¦ä¹ è·¯å¾„<br>2ã€ä¸å¥‡é‡åˆ°è¿‡å“ªäº›æŒ‘æˆ˜ï¼Ÿèµ°è¿‡é‚£äº›å‘ï¼Ÿæ˜¯å¦‚ä½•åº”å¯¹çš„ï¼Ÿ<br>3ã€ä»ä¸šåå‡ å¹´æ¥ï¼Œå…³äºæ•°æ®åº“æ€§èƒ½çš„â€œå¥‡é—»å¼‚äº‹â€<br><br>åŠ å°åŠ©æ‰‹å¾®ä¿¡ï¼šgeektime001æˆ–geektime004ï¼ˆäºŒé€‰ä¸€ï¼‰ï¼Œè·å–ç›´æ’­æœ€æ–°æ¶ˆæ¯ <br></div>
                            <span class="time">2018-11-19 13:52</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/fd/b0/e30fd916.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">äº¬äº¬beaver</span>
                            </div>
                            <div class="bd">mysql&gt; show variables like &#39;transaction_isolation&#39;;<br>è¿™å¥å†™é”™äº†ï¼Œåº”è¯¥æ˜¯tx_isolationã€‚æµ‹è¯•äº†ä¸€ä¸‹ <br></div>
                            <span class="time">2018-12-28 15:34</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ä½ æ˜¯ä¸æ˜¯ç”¨çš„5.6æˆ–æ›´æ—©çš„ç‰ˆæœ¬ğŸ˜„<br><br>5.7å¼•å…¥äº†transaction_isolationç”¨æ¥æ›¿æ¢tx_isolationäº†ï¼Œåˆ°8.0.3å°±å»æ‰äº†åè€…äº†</p>
                                <p class="reply-time">2018-12-28 15:59</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/86/59/e8f58a2a.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">LAMBO</span>
                            </div>
                            <div class="bd">è¯»æœªæäº¤ï¼šåˆ«äººæ”¹æ•°æ®çš„äº‹åŠ¡å°šæœªæäº¤ï¼Œæˆ‘åœ¨æˆ‘çš„äº‹åŠ¡ä¸­ä¹Ÿèƒ½è¯»åˆ°ã€‚<br>è¯»å·²æäº¤ï¼šåˆ«äººæ”¹æ•°æ®çš„äº‹åŠ¡å·²ç»æäº¤ï¼Œæˆ‘åœ¨æˆ‘çš„äº‹åŠ¡ä¸­æ‰èƒ½è¯»åˆ°ã€‚<br>å¯é‡å¤è¯»ï¼šåˆ«äººæ”¹æ•°æ®çš„äº‹åŠ¡å·²ç»æäº¤ï¼Œæˆ‘åœ¨æˆ‘çš„äº‹åŠ¡ä¸­ä¹Ÿä¸å»è¯»ã€‚<br>ä¸²è¡Œï¼šæˆ‘çš„äº‹åŠ¡å°šæœªæäº¤ï¼Œåˆ«äººå°±åˆ«æƒ³æ”¹æ•°æ®ã€‚<br>è¿™4ç§éš”ç¦»çº§åˆ«ï¼Œå¹¶è¡Œæ€§èƒ½ä¾æ¬¡é™ä½ï¼Œå®‰å…¨æ€§ä¾æ¬¡æé«˜ã€‚ <br></div>
                            <span class="time">2018-11-20 20:21</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ€»ç»“çš„å¥½ğŸ‘ğŸ¿</p>
                                <p class="reply-time">2018-11-20 21:08</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/e9/0b/53bf91d3.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">WL</span>
                            </div>
                            <div class="bd">ä¸ºè¯¥è®²æ€»ç»“äº†å‡ ä¸ªé—®é¢˜, å¤§å®¶å¤ä¹ çš„æ—¶å€™å¯ä»¥å…ˆå°è¯•å›ç­”è¿™äº›é—®é¢˜æ£€æŸ¥è‡ªå·±çš„æŒæ¡ç¨‹åº¦:<br><br>	1. <br>äº‹åŠ¡çš„æ¦‚å¿µæ˜¯ä»€ä¹ˆ?<br>	2. <br>mysqlçš„äº‹åŠ¡éš”ç¦»çº§åˆ«è¯»æœªæäº¤, è¯»å·²æäº¤, å¯é‡å¤è¯», ä¸²è¡Œå„æ˜¯ä»€ä¹ˆæ„æ€?<br>	3. <br>è¯»å·²æäº¤, å¯é‡å¤è¯»æ˜¯æ€ä¹ˆé€šè¿‡è§†å›¾æ„å»ºå®ç°çš„?<br>	4. <br>å¯é‡å¤è¯»çš„ä½¿ç”¨åœºæ™¯ä¸¾ä¾‹? å¯¹è´¦çš„æ—¶å€™åº”è¯¥å¾ˆæœ‰ç”¨?<br>	5. <br>äº‹åŠ¡éš”ç¦»æ˜¯æ€ä¹ˆé€šè¿‡read-view(è¯»è§†å›¾)å®ç°çš„?<br>	6. <br>å¹¶å‘ç‰ˆæœ¬æ§åˆ¶(MCVV)çš„æ¦‚å¿µæ˜¯ä»€ä¹ˆ, æ˜¯æ€ä¹ˆå®ç°çš„?<br>	7. <br>ä½¿ç”¨é•¿äº‹åŠ¡çš„å¼Šç—…? ä¸ºä»€ä¹ˆä½¿ç”¨å¸¸äº‹åŠ¡å¯èƒ½æ‹–å®æ•´ä¸ªåº“?<br>	8. <br>äº‹åŠ¡çš„å¯åŠ¨æ–¹å¼æœ‰å“ªå‡ ç§? <br>	9. <br>commit work and chainçš„è¯­æ³•æ˜¯åšä»€ä¹ˆç”¨çš„? <br>	10. <br>æ€ä¹ˆæŸ¥è¯¢å„ä¸ªè¡¨ä¸­çš„é•¿äº‹åŠ¡?<br>	11. <br>å¦‚ä½•é¿å…é•¿äº‹åŠ¡çš„å‡ºç°?<br><br> <br></div>
                            <span class="time">2018-11-24 15:12</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">è°¢è°¢ã€‚æˆ‘åœ¨å¾®åšä¸Šä¼šæˆªå›¾ä¼˜è´¨è¯„è®ºï¼Œä½ çš„æ€»ç»“ä¼šç»å¸¸â€œä¸Šæ¦œâ€å“ˆã€‚å¦‚æœæœ‰ä¸åˆé€‚ä½ è·Ÿæˆ‘è¯´ä¸‹ï¼Œæˆ‘å»åˆ æ‰ğŸ¤</p>
                                <p class="reply-time">2018-11-24 15:24</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/aa/21/81ee4e60.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">lfn</span>
                            </div>
                            <div class="bd">äº‹åŠ¡éš”ç¦»çš„å®ç°ä¼¼ä¹æœ‰ç‚¹å¤ªç®€ç•¥ï¼Œæ²¡è·Ÿä¸Šæ—è€å¸ˆçš„æ€è·¯ã€‚ã€‚ <br></div>
                            <span class="time">2018-11-19 01:11</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¯¹äºRRï¼Œä½ å¯ä»¥è¿™ä¹ˆæƒ³ï¼Œæ¯ä¸ªäº‹åŠ¡å¯åŠ¨çš„æ—¶å€™æ‰“ä¸€ä¸ªå¿«ç…§ï¼Œåˆ«äººæ”¹çš„â€œæˆ‘ä¸å¬æˆ‘ä¸å¬â€ğŸ˜„</p>
                                <p class="reply-time">2018-11-19 10:20</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/76/93/c78a132a.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æœç„¶å¦‚æ­¤</span>
                            </div>
                            <div class="bd">ä½œä¸šï¼šè®¾ç½®autocommit=1ï¼Œå¦å¤–ï¼Œç¼–å†™ä¸€ä¸ªå®šæ—¶ç›‘æ§Innodb_trxè¡¨ä¸­æ—¶é—´æ¯”è¾ƒå¤§çš„äº‹åŠ¡çš„ä»»åŠ¡ï¼Œå¦‚æœå‘ç°é•¿äº‹åŠ¡ï¼Œéšæ—¶è‡ªåŠ¨å‘é‚®ä»¶æé†’å¼€å‘äººå‘˜ã€‚<br> <br></div>
                            <span class="time">2018-11-19 08:55</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/1e/96/21643d19.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ»©æ¶‚æ›³å°¾</span>
                            </div>
                            <div class="bd">åœ¨â€œè¯»æäº¤â€éš”ç¦»çº§åˆ«ä¸‹ï¼Œè¿™ä¸ªè§†å›¾æ˜¯åœ¨æ¯ä¸ª SQL è¯­å¥å¼€å§‹æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºçš„ã€‚è€å¸ˆï¼Œè¿™å¥è¯æ€ä¹ˆç†è§£å‘¢ <br></div>
                            <span class="time">2018-11-20 08:08</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/13/f2/a5/bc63dee1.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">* æ™“ *</span>
                            </div>
                            <div class="bd">è€å¸ˆï¼ŒMySQLä¸­undoçš„å†…å®¹ä¼šè¢«è®°å½•åˆ°redoä¸­å—ï¼Ÿæ¯”å¦‚ä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œåˆ°ä¸€åŠçš„æ—¶å€™å®ä¾‹å´©æºƒäº†ï¼Œåœ¨æ¢å¤çš„æ—¶å€™æ˜¯ä¸æ˜¯å…ˆæ¢å¤redoï¼Œå†æ ¹æ®redoæ„é€ undoå›æ»šå®•æœºå‰æ²¡æœ‰æäº¤çš„äº‹åŠ¡å‘¢ï¼Ÿ <br></div>
                            <span class="time">2018-11-20 08:32</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¯¹çš„ï¼Œæ˜¯ä½ è¯´çš„è¿™ä¸ªæµç¨‹</p>
                                <p class="reply-time">2018-11-20 09:54</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/11/60/abb7bfe3.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ThinkingQuest</span>
                            </div>
                            <div class="bd">æ„Ÿè°¢è€å¸ˆçš„é«˜è´¨é‡æ–‡ç« ã€‚<br><br>è¯•å›¾çš„å®ç°ï¼Œå¤šä¸ªå›æ»šæ®µé‚£ä¸€å—ï¼Œä¸æ˜¯å¾ˆå¥½ç†è§£ã€‚ <br></div>
                            <span class="time">2018-11-19 09:33</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Gavin</span>
                            </div>
                            <div class="bd">ä¸‹é¢æ˜¯æˆ‘çš„è‡ªé—®è‡ªç­”ï¼Œä¹Ÿæ˜¯æˆ‘çš„å­¦ä¹ ç¬”è®°ï¼Œé—®ä¸‹æ–Œå“¥ï¼Œè¿™æ ·ç†è§£å‡†ç¡®å—ï¼Ÿ<br>åœ¨å¯é‡å¤è¯»çš„éš”ç¦»çº§åˆ«ä¸‹ï¼Œå¦‚ä½•ç†è§£**å½“ç³»ç»Ÿé‡Œæ²¡æœ‰æ¯”è¿™ä¸ªå›æ»šæ—¥å¿—æ›´æ—©çš„ read-view çš„æ—¶å€™**ï¼Œè¿™ä¸ªå›æ»šæ—¥å¿—å°±ä¼šè¢«åˆ é™¤ï¼Ÿ<br><br>è¿™ä¹Ÿæ˜¯**å°½é‡ä¸è¦ä½¿ç”¨é•¿äº‹åŠ¡**çš„ä¸»è¦åŸå› ã€‚<br><br>æ¯”å¦‚ï¼Œåœ¨æŸä¸ªæ—¶åˆ»ï¼ˆä»Šå¤©ä¸Šåˆ9:00ï¼‰å¼€å¯äº†ä¸€ä¸ªäº‹åŠ¡Aï¼ˆå¯¹äºå¯é‡å¤è¯»éš”ç¦»çº§åˆ«ï¼Œæ­¤æ—¶ä¸€ä¸ªè§†å›¾read-view Aä¹Ÿåˆ›å»ºäº†ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„äº‹åŠ¡â€¦â€¦<br><br>äº‹åŠ¡Aåœ¨ä»Šå¤©ä¸Šåˆ9:20çš„æ—¶å€™ï¼ŒæŸ¥è¯¢äº†ä¸€ä¸ªè®°å½•R1çš„ä¸€ä¸ªå­—æ®µf1çš„å€¼ä¸º1â€¦â€¦<br><br>ä»Šå¤©ä¸Šåˆ9:25çš„æ—¶å€™ï¼Œä¸€ä¸ªäº‹åŠ¡Bï¼ˆéšä¹‹è€Œæ¥çš„read-view Bï¼‰ä¹Ÿè¢«å¼€å¯äº†ï¼Œå®ƒæ›´æ–°äº†R1.f1çš„å€¼ä¸º2ï¼ˆåŒæ—¶ä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªç”±2åˆ°1çš„å›æ»šæ—¥å¿—ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªçŸ­äº‹åŠ¡ï¼Œäº‹åŠ¡éšåå°±è¢«commitäº†ã€‚<br><br>ä»Šå¤©ä¸Šåˆ9:30çš„æ—¶å€™ï¼Œä¸€ä¸ªäº‹åŠ¡Cï¼ˆéšä¹‹è€Œæ¥çš„read-view Cï¼‰ä¹Ÿè¢«å¼€å¯äº†ï¼Œå®ƒæ›´æ–°äº†R1.f1çš„å€¼ä¸º3ï¼ˆåŒæ—¶ä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªç”±3åˆ°2çš„å›æ»šæ—¥å¿—ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªçŸ­äº‹åŠ¡ï¼Œäº‹åŠ¡éšåå°±è¢«commitäº†ã€‚<br><br>â€¦â€¦<br><br>åˆ°äº†ä¸‹åˆ3:00äº†ï¼Œé•¿äº‹åŠ¡Aè¿˜æ²¡æœ‰commitï¼Œä¸ºäº†ä¿è¯äº‹åŠ¡åœ¨æ‰§è¡ŒæœŸé—´çœ‹åˆ°çš„æ•°æ®åœ¨å‰åå¿…é¡»æ˜¯ä¸€è‡´çš„ï¼Œé‚£äº›è€çš„äº‹åŠ¡è§†å›¾ã€å›æ»šæ—¥å¿—å°±å¿…é¡»å­˜åœ¨äº†ï¼Œè¿™å°±å ç”¨äº†å¤§é‡çš„å­˜å‚¨ç©ºé—´ã€‚<br><br>æºäºæ­¤ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡ä¸è¦ä½¿ç”¨é•¿äº‹åŠ¡ã€‚ <br></div>
                            <span class="time">2018-12-04 09:55</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">éå¸¸å¥½</p>
                                <p class="reply-time">2018-12-04 10:19</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/13/ee/23/bfcfad58.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">LY</span>
                            </div>
                            <div class="bd">è€å¸ˆ åŒä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ’å…¥&#47;æ›´æ–°&#47;åˆ é™¤-&gt;æŸ¥è¯¢ï¼Œè¿™ç§æƒ…å†µå‘¢ <br></div>
                            <span class="time">2018-11-19 08:53</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">é‚£è‡ªå·±æ”¹äº†è‚¯å®šå¾—çœ‹åˆ°å‘€ï¼Œä¸ç„¶ç¨‹åºé€»è¾‘å´©æºƒäº†ğŸ˜„</p>
                                <p class="reply-time">2018-11-19 09:47</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ¢ä¸­å</span>
                            </div>
                            <div class="bd">æ„Ÿè§‰æ²¡è®²é€ï¼Œæœ€å¥½ç»“åˆé”ä¸€èµ·è®²æ‰èƒ½å½»åº•è®²æ¸…æ¥šï¼Œæ¯”å¦‚ä¸¤ä¸ªRRçº§çš„äº‹åŠ¡åŒæ—¶å¯åŠ¨ï¼Œéƒ½æ˜¯å¯¹åŒä¸€ä¸ªå­—æ®µæ“ä½œï¼Œç³»ç»Ÿèµ·äº†ä¸¤ä¸ªäº’ä¸å½±å“çš„view,é‚£äº‹åŠ¡çš„ç»“æœä¼šä¸ä¼šè¢«è¦†ç›–ï¼Œç›´è§‰ä¸Šè‚¯å®šä¸ä¼šè¢«è¦†ç›–ï¼Œå¤§å®¶çŸ¥é“è®°å½•ä¸Šä¼šæœ‰é”ï¼Œä½†è¿™ä¸ªé”å’Œviewæ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿå»ºè®®mvccå¯ä»¥å±•å¼€æ¥è®²è®²ã€‚ <br></div>
                            <span class="time">2018-11-19 12:46</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ¶‰åŠåˆ°æ›´æ–°æ˜¯æ˜¯æ¶‰åŠè¡Œé”ï¼Œåœ¨ç¬¬ä¸ƒè®²ä¼šè®²åˆ°ã€‚ </p>
                                <p class="reply-time">2018-11-19 14:24</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/31/c8/a64e4aef.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å…”æ–¯åŸº</span>
                            </div>
                            <div class="bd">æ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸º<br>è¯»æäº¤ä¸èƒ½ä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¸­å¯¹åŒä¸€æ¡æ•°æ®çš„æ¯æ¬¡è¯»å–éƒ½ä¸€è‡´ã€‚<br>å¯é‡å¤è¯»å¯ä»¥ä¿è¯åœ¨ä¸€ä¸ªäº‹åŠ¡æ€§ï¼Œæ¯æ¬¡è¯»å–åŒä¸€æ¡è®°å½•ï¼Œå€¼æ˜¯ä¸ä¼šå‘ç”Ÿæ”¹å˜çš„ã€‚<br> <br></div>
                            <span class="time">2018-11-19 08:00</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/13/df/e7/e3c450c2.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">lionetes</span>
                            </div>
                            <div class="bd">mvccæ˜¯æœ‰undoå®ç°çš„ï¼Œundoåˆæ˜¯æœ‰redo å¼•èµ·ç”Ÿæˆï¼Œé»˜è®¤äº‹åŠ¡æ˜¯rrï¼Œä½†è¿˜æ˜¯å»ºè®®rc  ï¼Œè¿™èŠ‚ç¯‡å¹…æœ‰ç‚¹çŸ­ å“ˆå“ˆ  çœ‹ä¸å¤Ÿ <br></div>
                            <span class="time">2018-11-19 00:27</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/13/f0/81/8d539cba.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ç‹å‡¯</span>
                            </div>
                            <div class="bd">autocommitè®¾ç½®ä¸º1ï¼Œç”¨æ–‡ä¸­æåˆ°çš„æ£€æŸ¥é•¿äº‹åŠ¡çš„æ–¹æ³•åšæ¯ç§’çš„è®¡åˆ’ä»»åŠ¡æ£€æŸ¥ï¼Œæ£€æŸ¥åˆ°çš„è¯è®°å½•å¹¶æ€æ­»è¿›ç¨‹ã€‚<br><br>å¦å¤–ï¼Œè®¾ç½®SET GLOBAL MAX_EXECUTION_TIME=3000. ç¡®ä¿å•æ¡è¯­å¥æ‰§è¡Œæ—¶é—´åœ¨è§„å®šçš„èŒƒå›´ä¹‹å†…ã€‚ <br></div>
                            <span class="time">2018-11-19 10:25</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ğŸ‘ğŸ¿<br><br>ä¸è¿‡globalè®¾ä¸‹å»ææ€•æ‹…å¿ƒå¦‚æœçœŸæœ‰éœ€è¦æ‰§è¡Œä¹…çš„ï¼Œï¼ˆæ¯”å¦‚å¤‡ä»½ï¼‰ï¼Œä¼šä¸ä¼šè¢«è¯¯ä¼¤ğŸ˜„<br><br>å¯ä»¥è€ƒè™‘è®¾ç½®æˆsessionå†…æœ‰æ•ˆï¼Œè®©ä¸šåŠ¡ä»£ç ä¸»åŠ¨å»åšï¼Ÿ</p>
                                <p class="reply-time">2018-11-19 10:45</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/47/b0/99ca6ce9.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">éƒ­æœˆå</span>
                            </div>
                            <div class="bd">pythoné‡Œé¢ï¼Œautocommité»˜è®¤æ˜¯0çš„ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œä¸€æ¡selectè¯­å¥å¦‚æœä¸å†™beginï¼Œæ˜¯å¦éœ€è¦ï¼Œcommit? <br></div>
                            <span class="time">2018-11-19 07:51</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ä¸commitå¦‚æœè¿æ¥ä¿æŒç€ï¼Œå°±å¯èƒ½å˜æˆé•¿äº‹åŠ¡å“¦</p>
                                <p class="reply-time">2018-11-19 10:16</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">William</span>
                            </div>
                            <div class="bd">è„è¯»ï¼š<br>	å½“æ•°æ®åº“ä¸­ä¸€ä¸ªäº‹åŠ¡Aæ­£åœ¨ä¿®æ”¹ä¸€ä¸ªæ•°æ®ä½†æ˜¯è¿˜æœªæäº¤æˆ–è€…å›æ»šï¼Œ<br>	å¦ä¸€ä¸ªäº‹åŠ¡B æ¥è¯»å–äº†ä¿®æ”¹åçš„å†…å®¹å¹¶ä¸”ä½¿ç”¨äº†ï¼Œ<br>    ä¹‹åäº‹åŠ¡Aæäº¤äº†ï¼Œæ­¤æ—¶å°±å¼•èµ·äº†è„è¯»ã€‚  <br>   <br>	æ­¤æƒ…å†µä»…ä¼šå‘ç”Ÿåœ¨ï¼š è¯»æœªæäº¤çš„çš„éš”ç¦»çº§åˆ«.<br>   <br>ä¸å¯é‡å¤è¯»ï¼š<br>	åœ¨ä¸€ä¸ªäº‹åŠ¡Aä¸­å¤šæ¬¡æ“ä½œæ•°æ®ï¼Œåœ¨äº‹åŠ¡æ“ä½œè¿‡ç¨‹ä¸­(æœªæœ€ç»ˆæäº¤)ï¼Œ<br>	äº‹åŠ¡Bä¹Ÿæ‰åšäº†å¤„ç†ï¼Œå¹¶ä¸”è¯¥å€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œè¿™æ—¶å€™å°±ä¼šå¯¼è‡´Aåœ¨äº‹åŠ¡æ“ä½œ<br>	çš„æ—¶å€™ï¼Œå‘ç°æ•°æ®ä¸ç¬¬ä¸€æ¬¡ä¸ä¸€æ ·äº†ã€‚ å°±æ˜¯ä¸å¯é‡å¤è¯»ã€‚<br>	<br>	æ­¤æƒ…å†µä»…ä¼šå‘ç”Ÿåœ¨ï¼šè¯»æœªæäº¤ã€è¯»æäº¤çš„éš”ç¦»çº§åˆ«.<br>	<br>å¹»è¯»ï¼š<br>	ä¸€ä¸ªäº‹åŠ¡æŒ‰ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶é‡æ–°è¯»å–ä»¥å‰æ£€ç´¢è¿‡çš„æ•°æ®ï¼Œ<br>	å´å‘ç°å…¶ä»–äº‹åŠ¡æ’å…¥äº†æ»¡è¶³å…¶æŸ¥è¯¢æ¡ä»¶çš„æ–°æ•°æ®ï¼Œè¿™ç§ç°è±¡å°±ç§°ä¸ºå¹»è¯»ã€‚<br>	<br>	å¹»è¯»æ˜¯æŒ‡å½“äº‹åŠ¡ä¸æ˜¯ç‹¬ç«‹æ‰§è¡Œæ—¶å‘ç”Ÿçš„ä¸€ç§ç°è±¡ï¼Œä¾‹å¦‚ç¬¬ä¸€ä¸ªäº‹åŠ¡å¯¹ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼Œæ¯”å¦‚è¿™ç§ä¿®æ”¹æ¶‰åŠåˆ°è¡¨ä¸­çš„â€œå…¨éƒ¨æ•°æ®è¡Œâ€ã€‚åŒæ—¶ï¼Œç¬¬äºŒä¸ªäº‹åŠ¡ä¹Ÿä¿®æ”¹è¿™ä¸ªè¡¨ä¸­çš„æ•°æ®ï¼Œè¿™ç§ä¿®æ”¹æ˜¯å‘è¡¨ä¸­æ’å…¥â€œä¸€è¡Œæ–°æ•°æ®â€ã€‚é‚£ä¹ˆï¼Œä»¥åå°±ä¼šå‘ç”Ÿæ“ä½œç¬¬ä¸€ä¸ªäº‹åŠ¡çš„ç”¨æˆ·å‘ç°è¡¨ä¸­è¿˜å­˜åœ¨æ²¡æœ‰ä¿®æ”¹çš„æ•°æ®è¡Œï¼Œå°±å¥½è±¡å‘ç”Ÿäº†å¹»è§‰ä¸€æ ·.<br>	ä¸€èˆ¬è§£å†³å¹»è¯»çš„æ–¹æ³•æ˜¯å¢åŠ èŒƒå›´é”RangeSï¼Œé”å®šæ£€ç´¢èŒƒå›´ä¸ºåªè¯»ï¼Œè¿™æ ·å°±é¿å…äº†å¹»è¯»ã€‚<br>	<br>	æ­¤æƒ…å†µä¼šå›å‘ç”Ÿåœ¨ï¼šè¯»æœªæäº¤ã€è¯»æäº¤ã€å¯é‡å¤è¯»çš„éš”ç¦»çº§åˆ«.<br>	<br>	<br>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼š<br>	å››ç§ï¼šè¯»æœªæäº¤ ã€ è¯»æäº¤ ã€ å¯é‡å¤è¯»ã€ ä¸²è¡ŒåŒ–ã€‚ <br></div>
                            <span class="time">2018-12-13 14:58</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">null</span>
                            </div>
                            <div class="bd">å¸®åŠ©è®°å¿†ï¼š<br>è§†å›¾ç†è§£ä¸ºæ•°æ®å‰¯æœ¬ï¼Œæ¯æ¬¡åˆ›å»ºè§†å›¾æ—¶ï¼Œå°†å½“å‰ã€å·²æŒä¹…åŒ–çš„æ•°æ®ã€åˆ›å»ºå‰¯æœ¬ï¼Œåç»­ç›´æ¥ä»å‰¯æœ¬è¯»å–ï¼Œä»è€Œè¾¾åˆ°æ•°æ®éš”ç¦»æ•ˆæœã€‚<br><br>å­˜åœ¨è§†å›¾çš„ 2 ç§éš”ç¦»çº§åˆ«ï¼š<br>1. è¯»æäº¤<br>2. å¯é‡å¤è¯»<br><br>è¯»æäº¤ï¼šåœ¨æ¯ä¸€æ¡ SQL å¼€å§‹æ‰§è¡Œæ—¶åˆ›å»ºè§†å›¾ï¼Œéš”ç¦»ä½œç”¨åŸŸä»…é™è¯¥æ¡ SQL è¯­å¥ã€‚<br><br>å¯é‡å¤è¯»ï¼šäº‹åŠ¡å¯åŠ¨æ—¶åˆ›å»ºè§†å›¾ï¼Œå› æ­¤ï¼Œåœ¨äº‹åŠ¡ä»»æ„æ—¶åˆ»ï¼Œå¯¹è®°å½•è¯»å–çš„å€¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚<br><br>å…¶ä»– 2 ç§æ— è§†å›¾çš„éš”ç¦»çº§åˆ«ï¼š<br>1. è¯»æœªæäº¤<br>2. ä¸²è¡ŒåŒ–<br><br>è¯»æœªæäº¤ï¼šç›´æ¥è¿”å›è®°å½•æœ€æ–°å€¼ã€‚<br><br>ä¸²è¡ŒåŒ–ï¼šé€šè¿‡è¯»å†™é”æ¥é¿å…å¹¶è¡Œè®¿é—®ã€‚<br>è¯»-è¯»ï¼šå…è®¸å¹¶å‘æ‰§è¡Œ<br>è¯»-å†™ï¼šåªèƒ½ä¸²è¡Œ<br>å†™-å†™ï¼šåªèƒ½ä¸²è¡Œ<br><br><br>è€å¸ˆï¼Œå…³äºè§†å›¾ç†è§£ä¸ºæ•°æ®å‰¯æœ¬ï¼Œâ€œè¯»-è¯»â€åœ¨ä¸²è¡ŒåŒ–éš”ç¦»çº§åˆ«å…è®¸å¹¶å‘ï¼Œè¿™æ ·çš„ç†è§£æ˜¯å¦é€‚åˆå‘¢ï¼Ÿè°¢è°¢ <br></div>
                            <span class="time">2018-11-22 09:41</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¯¹ï¼Œè¯»å’Œè¯»ä¸äº’æ–¥çš„</p>
                                <p class="reply-time">2018-11-22 10:13</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/dd/35/f9cbab6a.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ¨</span>
                            </div>
                            <div class="bd">èƒ½æŠ½å‡ºä¸€ç« è¯¦ç»†çš„è®²è®²mvccå—ï¼Œæ„Ÿè§‰å¾ˆæ¨¡ç³Š <br></div>
                            <span class="time">2018-11-21 13:02</span>
                            
                        </div>
                    </li>
                    


                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>