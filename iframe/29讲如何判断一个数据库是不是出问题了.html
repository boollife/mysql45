<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <style type="text/css">

#watermark {

  position: relative;
  overflow: hidden;
}

#watermark .x {
  position: absolute;
  top: 800;
  left: 400;
  color: #3300ff;
  font-size: 50px;
  pointer-events: none;
  opacity:0.3;
  filter:Alpha(opacity=50);
  
  
}
    </style>


    <style type="text/css">
 html{color:#333;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-rendering:optimizelegibility;font-family:Helvetica Neue,PingFang SC,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif}html.borderbox *,html.borderbox :after,html.borderbox :before{box-sizing:border-box}article,aside,blockquote,body,button,code,dd,details,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hr,input,legend,li,menu,nav,ol,p,pre,section,td,textarea,th,ul{margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}audio,canvas,video{display:inline-block}body,button,input,select,textarea{font:300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}blockquote{position:relative;color:#999;font-weight:400;border-left:1px solid #1abc9c;padding-left:1em;margin:1em 3em 1em 2em}@media only screen and (max-width:640px){blockquote{margin:1em 0}}abbr,acronym{border-bottom:1px dotted;font-variant:normal}abbr{cursor:help}del{text-decoration:line-through}address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:400}ol,ul{list-style:none}caption,th{text-align:left}q:after,q:before{content:""}sub,sup{font-size:75%;line-height:0;position:relative}:root sub,:root sup{vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}a{color:#1abc9c}a:hover{text-decoration:underline}.typo a{border-bottom:1px solid #1abc9c}.typo a:hover{border-bottom-color:#555;color:#555}.typo a:hover,a,ins{text-decoration:none}.typo-u,u{text-decoration:underline}mark{background:#fffdd1;border-bottom:1px solid #ffedce;padding:2px;margin:0 5px}code,pre,pre tt{font-family:Courier,Courier New,monospace}pre{background:hsla(0,0%,97%,.7);border:1px solid #ddd;padding:1em 1.5em;display:block;-webkit-overflow-scrolling:touch}hr{border:none;border-bottom:1px solid #cfcfcf;margin-bottom:.8em;height:10px}.typo-small,figcaption,small{font-size:.9em;color:#888}b,strong{font-weight:700;color:#000}[draggable]{cursor:move}.clearfix:after,.clearfix:before{content:"";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.textwrap,.textwrap td,.textwrap th{word-wrap:break-word;word-break:break-all}.textwrap-table{table-layout:fixed}.serif{font-family:Palatino,Optima,Georgia,serif}.typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{font-family:PingFang SC,Helvetica Neue,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;color:#000;line-height:1.35}.typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{margin-top:1.2em;margin-bottom:.6em;line-height:1.35}.typo-h1,.typo h1{font-size:2em}.typo-h2,.typo h2{font-size:1.8em}.typo-h3,.typo h3{font-size:1.6em}.typo-h4,.typo h4{font-size:1.4em}.typo-h5,.typo-h6,.typo h5,.typo h6{font-size:1.2em}.typo-ul,.typo ul{margin-left:1.3em;list-style:disc}.typo-ol,.typo ol{list-style:decimal;margin-left:1.9em}.typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul{margin-bottom:.8em;margin-left:2em}.typo-ol ul,.typo-ul ul,.typo li ul{list-style:circle}.typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th{border:1px solid #ddd;padding:.5em 1em;color:#666}.typo-table th,.typo table th{background:#fbfbfb}.typo-table thead th,.typo table thead th{background:hsla(0,0%,95%,.7)}.typo table caption{border-bottom:none}.typo-input,.typo-textarea{-webkit-appearance:none;border-radius:0}.typo-em,.typo em,caption,legend{color:#000;font-weight:inherit}.typo-em{position:relative}.typo-em:after{position:absolute;top:.65em;left:0;width:100%;overflow:hidden;white-space:nowrap;content:"\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"}.typo img{max-width:100%}.common-content{font-weight:400;color:#353535;line-height:1.75rem;white-space:normal;word-break:normal;font-size:1rem}.common-content img{display:block;max-width:100%;background-color:#eee}.common-content audio,.common-content video{width:100%;background-color:#eee}.common-content center,.common-content font{margin-top:1rem;display:inline-block}.common-content center{width:100%}.common-content pre{margin-top:1rem;padding-left:0;padding-right:0;position:relative;overflow:hidden}.common-content pre code{font-size:.8rem;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;width:100%;box-sizing:border-box;padding-left:1rem;padding-right:1rem;overflow-x:auto}.common-content hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}.common-content b,.common-content h1,.common-content h2,.common-content h3,.common-content h4,.common-content h5,.common-content strong{font-weight:700}.common-content h1,.common-content h2{font-size:1.125rem;margin-bottom:.45rem}.common-content h3,.common-content h4,.common-content h5{font-size:1rem;margin-bottom:.45rem}.common-content p{font-weight:400;color:#353535;margin-top:.15rem}.common-content .orange{color:#ff5a05}.common-content .reference{font-size:1rem;color:#888}.custom-rich-content h1{margin-top:0;font-weight:400;font-size:15.25px;border-bottom:1px solid #eee;line-height:2.8}.custom-rich-content li,.custom-rich-content p{font-size:14px;color:#888;line-height:1.6}table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}table.hljs-ln,table.hljs-ln tbody,table.hljs-ln td,table.hljs-ln tr{box-sizing:border-box}table.hljs-ln td{padding:0;border:0}table.hljs-ln td.hljs-ln-numbers{min-width:15px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;user-select:none}table.hljs-ln td.hljs-ln-code,table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;vertical-align:top}table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;color:#24292e;word-wrap:normal;white-space:pre}video::-webkit-media-controls{overflow:hidden!important}video::-webkit-media-controls-enclosure{width:calc(100% + 32px);margin-left:auto}.button-cancel{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel,.button-primary{-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary{color:#fff;background-color:#ff5a05;border-radius:3px}@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot);src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.woff) format("woff"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.ttf) format("truetype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.svg#iconfont) format("svg")}@font-face{font-family:player-font;src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot);src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.woff) format("woff"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.ttf) format("truetype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.svg#player-font) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}html{background:#fff;min-height:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{width:100%}body.fixed{overflow:hidden;position:fixed;width:100vw;height:100vh}i{font-style:normal}a{word-wrap:break-word;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:hover{text-decoration:none}.fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}.MathJax,.MathJax_CHTML,.MathJax_MathContainer,.MathJax_MathML,.MathJax_PHTML,.MathJax_PlainSource,.MathJax_SVG{outline:0}.ios-app-switch .js-audit{display:none}._loading_wrap_{position:fixed;width:100vw;height:100vh;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}._loading_div_class_,._loading_wrap_{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._loading_div_class_{word-wrap:break-word;padding:.5rem .75rem;text-align:center;z-index:9999;font-size:.6rem;max-width:60%;color:#fff;border-radius:.25rem;-ms-flex-direction:column;flex-direction:column}._loading_div_class_ .message{color:#353535;font-size:16px;line-height:3}.spinner{animation:circle-rotator 1.4s linear infinite}.spinner *{line-height:0;box-sizing:border-box}@keyframes circle-rotator{0%{transform:rotate(0deg)}to{transform:rotate(270deg)}}.path{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:circle-dash 1.4s ease-in-out infinite,circle-colors 5.6s ease-in-out infinite}@keyframes circle-colors{0%{stroke:#ff5a05}to{stroke:#ff5a05}}@keyframes circle-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}.confirm-box-wrapper,.confirm-box-wrapper .mask{position:absolute;top:0;left:0;right:0;bottom:0}.confirm-box-wrapper .mask{background:rgba(0,0,0,.6)}.confirm-box-wrapper .confirm-box{position:fixed;top:50%;left:50%;width:267px;background:#fff;transform:translate(-50%,-50%);border-radius:7px}.confirm-box-wrapper .confirm-box .head{margin:0 18px;font-size:18px;text-align:center;line-height:65px;border-bottom:1px solid #d9d9d9}.confirm-box-wrapper .confirm-box .body{padding:18px;padding-bottom:0;color:#353535;font-size:12.5px;max-height:150px;overflow:auto}.confirm-box-wrapper .confirm-box .foot{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:18px}.confirm-box-wrapper .confirm-box .foot .button-cancel{border:1px solid #d9d9d9}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}




    </style>
    <style type="text/css">
        .button-cancel[data-v-87ffcada]{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel[data-v-87ffcada],.button-primary[data-v-87ffcada]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary[data-v-87ffcada]{color:#fff;background-color:#ff5a05;border-radius:3px}.pd[data-v-87ffcada]{padding-left:1.375rem;padding-right:1.375rem}.article[data-v-87ffcada]{max-width:70rem;margin:0 auto}.article .article-unavailable[data-v-87ffcada]{color:#fa8919;font-size:15px;font-weight:600;line-height:24px;border-radius:5px;padding:12px;background-color:#f6f7fb;margin-top:20px}.article .article-unavailable .iconfont[data-v-87ffcada]{font-size:12px}.article .main[data-v-87ffcada]{padding:1.25rem 0;margin-bottom:52px}.article-title[data-v-87ffcada]{color:#353535;font-weight:400;line-height:1.65rem;font-size:1.34375rem}.article-info[data-v-87ffcada]{color:#888;font-size:.9375rem;margin-top:1.0625rem}.article-content[data-v-87ffcada]{margin-top:1.0625rem}.article-content.android video[data-v-87ffcada]::-webkit-media-controls-fullscreen-button{display:none}.copyright[data-v-87ffcada]{color:#b2b2b2;padding-bottom:20px;margin-top:20px;font-size:13px}.audio-player[data-v-87ffcada]{width:100%;margin:20px 0}.to-comment[data-v-87ffcada]{overflow:hidden;padding-top:10px;margin-bottom:-30px}.to-comment a.button-primary[data-v-87ffcada]{float:right;height:20px;font-size:12px;line-height:20px;padding:4px 8px;cursor:pointer}.article-comments[data-v-87ffcada]{margin-top:2rem}.article-comments h2[data-v-87ffcada]{text-align:center;color:#888;position:relative;z-index:1;margin-bottom:1rem}.article-comments h2[data-v-87ffcada]:before{border-top:1px dotted #888;content:"";position:absolute;top:56%;left:0;width:100%;z-index:-1}.article-comments h2 span[data-v-87ffcada]{font-size:15.25px;font-weight:400;padding:0 1rem;background:#fff;display:inline-block}.article-sub-bottom[data-v-87ffcada]{z-index:10;cursor:pointer}.switch-btns[data-v-87ffcada]{height:76px;cursor:pointer;padding-top:24px;padding-bottom:24px;border-bottom:10px solid #f6f7fb;position:relative}.switch-btns[data-v-87ffcada]:before{content:" ";height:1px;background:#e8e8e8;position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;left:1.375rem;right:1.375rem}.switch-btns .btn[data-v-87ffcada]{height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.switch-btns .btn .tag[data-v-87ffcada]{-webkit-box-flex:0;-ms-flex:0 0 62px;flex:0 0 62px;text-align:center;color:#888;font-size:14px;border-radius:10px;height:22px;line-height:22px;background:#f6f7fb;font-weight:400}.switch-btns .btn .txt[data-v-87ffcada]{margin-left:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#888;font-size:15px;height:22px;line-height:22px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}@media (max-width:769px){.article .breadcrumb[data-v-87ffcada]{padding-top:10px;padding-bottom:10px}}





    </style>

    <style type="text/css">
        .comment-item{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:1rem}.comment-item a{border-bottom:none}.comment-item .avatar{width:2.625rem;height:2.625rem;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}.comment-item .info{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.comment-item .info .hd{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .username{color:#888;font-size:15.25px;font-weight:400;line-height:1.2}.comment-item .info .hd .control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .control .btn-share{color:#888;font-size:.75rem;margin-right:1rem}.comment-item .info .hd .control .btn-praise{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}.comment-item .info .hd .control .btn-praise i{color:#888;display:inline-block;font-size:.75rem;margin-right:.3rem;margin-top:-.01rem}.comment-item .info .hd .control .btn-praise i.on,.comment-item .info .hd .control .btn-praise span{color:#ff5a05}.comment-item .info .bd{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6}.comment-item .info .time{color:#888;font-size:9px;line-height:1}.comment-item .info .reply .reply-hd{font-size:15.25px}.comment-item .info .reply .reply-hd span{margin-left:-12px;color:#888;font-weight:400}.comment-item .info .reply .reply-hd i{color:#ff5a05;font-size:15.25px}.comment-item .info .reply .reply-content{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all}.comment-item .info .reply .reply-time{color:#888;font-size:9px}




    </style>
</head>
<body>
<div id="app">


    <div data-v-87ffcada="" class="article" id="watermark">
        <div data-v-87ffcada="" class="main main-app">
            <h1 data-v-87ffcada="" class="article-title pd">
                29è®²å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°æ®åº“æ˜¯ä¸æ˜¯å‡ºé—®é¢˜äº†
            </h1>
            <div data-v-87ffcada="" class="article-content typo common-content pd"><img data-v-87ffcada=""
                                                                                        src="https://static001.geekbang.org/resource/image/5d/5b/5d2dba0755edb3e39a9dd087d700275b.jpg">

                <div>
                    <audio controls="controls" height="100" width="100">
                        <source src="29è®²å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°æ®åº“æ˜¯ä¸æ˜¯å‡ºé—®é¢˜äº†.mp3" type="audio/mp3" />
                        <embed height="100" width="100" src="29è®²å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°æ®åº“æ˜¯ä¸æ˜¯å‡ºé—®é¢˜äº†.mp3" />
                    </audio>
                </div>
                <div data-v-87ffcada="" id="article-content" class="">
                    <div class="text">
                        <p>æˆ‘åœ¨ç¬¬<a href="https://time.geekbang.org/column/article/76795">25</a>å’Œ<a href="https://time.geekbang.org/column/article/77427">27</a>ç¯‡æ–‡ç« ä¸­ï¼Œå’Œä½ ä»‹ç»äº†ä¸»å¤‡åˆ‡æ¢æµç¨‹ã€‚é€šè¿‡è¿™äº›å†…å®¹çš„è®²è§£ï¼Œä½ åº”è¯¥å·²ç»å¾ˆæ¸…æ¥šäº†ï¼šåœ¨ä¸€ä¸»ä¸€å¤‡çš„åŒMæ¶æ„é‡Œï¼Œä¸»å¤‡åˆ‡æ¢åªéœ€è¦æŠŠå®¢æˆ·ç«¯æµé‡åˆ‡åˆ°å¤‡åº“ï¼›è€Œåœ¨ä¸€ä¸»å¤šä»æ¶æ„é‡Œï¼Œä¸»å¤‡åˆ‡æ¢é™¤äº†è¦æŠŠå®¢æˆ·ç«¯æµé‡åˆ‡åˆ°å¤‡åº“å¤–ï¼Œè¿˜éœ€è¦æŠŠä»åº“æ¥åˆ°æ–°ä¸»åº“ä¸Šã€‚</p><p>ä¸»å¤‡åˆ‡æ¢æœ‰ä¸¤ç§åœºæ™¯ï¼Œä¸€ç§æ˜¯ä¸»åŠ¨åˆ‡æ¢ï¼Œä¸€ç§æ˜¯è¢«åŠ¨åˆ‡æ¢ã€‚è€Œå…¶ä¸­è¢«åŠ¨åˆ‡æ¢ï¼Œå¾€å¾€æ˜¯å› ä¸ºä¸»åº“å‡ºé—®é¢˜äº†ï¼Œç”±HAç³»ç»Ÿå‘èµ·çš„ã€‚</p><p>è¿™ä¹Ÿå°±å¼•å‡ºäº†æˆ‘ä»¬ä»Šå¤©è¦è®¨è®ºçš„é—®é¢˜ï¼šæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªä¸»åº“å‡ºé—®é¢˜äº†ï¼Ÿ</p><p>ä½ ä¸€å®šä¼šè¯´ï¼Œè¿™å¾ˆç®€å•å•Šï¼Œè¿ä¸ŠMySQLï¼Œæ‰§è¡Œä¸ªselect 1å°±å¥½äº†ã€‚ä½†æ˜¯select 1æˆåŠŸè¿”å›äº†ï¼Œå°±è¡¨ç¤ºä¸»åº“æ²¡é—®é¢˜å—ï¼Ÿ</p><h1>select 1åˆ¤æ–­</h1><p>å®é™…ä¸Šï¼Œselect 1æˆåŠŸè¿”å›ï¼Œåªèƒ½è¯´æ˜è¿™ä¸ªåº“çš„è¿›ç¨‹è¿˜åœ¨ï¼Œå¹¶ä¸èƒ½è¯´æ˜ä¸»åº“æ²¡é—®é¢˜ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ã€‚</p><pre><code>set global innodb_thread_concurrency=3;

CREATE TABLE `t` (
  `id` int(11) NOT NULL,
  `c` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB;

 insert into t values(1,1)
</code></pre><p><img src="https://static001.geekbang.org/resource/image/35/55/35076dd3d0a0d44d22b76d2a29885255.png" alt=""></p><center><span class="reference">å›¾1 æŸ¥è¯¢blocked</span></center><p>æˆ‘ä»¬è®¾ç½®innodb_thread_concurrencyå‚æ•°çš„ç›®çš„æ˜¯ï¼Œæ§åˆ¶InnoDBçš„å¹¶å‘çº¿ç¨‹ä¸Šé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦å¹¶å‘çº¿ç¨‹æ•°è¾¾åˆ°è¿™ä¸ªå€¼ï¼ŒInnoDBåœ¨æ¥æ”¶åˆ°æ–°è¯·æ±‚çš„æ—¶å€™ï¼Œå°±ä¼šè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°æœ‰çº¿ç¨‹é€€å‡ºã€‚</p><p>è¿™é‡Œï¼Œæˆ‘æŠŠinnodb_thread_concurrencyè®¾ç½®æˆ3ï¼Œè¡¨ç¤ºInnoDBåªå…è®¸3ä¸ªçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚è€Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå‰ä¸‰ä¸ªsession ä¸­çš„sleep(100)ï¼Œä½¿å¾—è¿™ä¸‰ä¸ªè¯­å¥éƒ½å¤„äºâ€œæ‰§è¡Œâ€çŠ¶æ€ï¼Œä»¥æ­¤æ¥æ¨¡æ‹Ÿå¤§æŸ¥è¯¢ã€‚</p><!-- [[[read_end]]] --><p>ä½ çœ‹åˆ°äº†ï¼Œ session Dé‡Œé¢ï¼Œselect 1æ˜¯èƒ½æ‰§è¡ŒæˆåŠŸçš„ï¼Œä½†æ˜¯æŸ¥è¯¢è¡¨tçš„è¯­å¥ä¼šè¢«å µä½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¿™æ—¶å€™æˆ‘ä»¬ç”¨select 1æ¥æ£€æµ‹å®ä¾‹æ˜¯å¦æ­£å¸¸çš„è¯ï¼Œæ˜¯æ£€æµ‹ä¸å‡ºé—®é¢˜çš„ã€‚</p><p>åœ¨InnoDBä¸­ï¼Œinnodb_thread_concurrencyè¿™ä¸ªå‚æ•°çš„é»˜è®¤å€¼æ˜¯0ï¼Œè¡¨ç¤ºä¸é™åˆ¶å¹¶å‘çº¿ç¨‹æ•°é‡ã€‚ä½†æ˜¯ï¼Œä¸é™åˆ¶å¹¶å‘çº¿ç¨‹æ•°è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚å› ä¸ºï¼Œä¸€ä¸ªæœºå™¨çš„CPUæ ¸æ•°æœ‰é™ï¼Œçº¿ç¨‹å…¨å†²è¿›æ¥ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„æˆæœ¬å°±ä¼šå¤ªé«˜ã€‚</p><p>æ‰€ä»¥ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®æŠŠinnodb_thread_concurrencyè®¾ç½®ä¸º64~128ä¹‹é—´çš„å€¼ã€‚è¿™æ—¶ï¼Œä½ ä¸€å®šä¼šæœ‰ç–‘é—®ï¼Œå¹¶å‘çº¿ç¨‹ä¸Šé™æ•°è®¾ç½®ä¸º128å¤Ÿå¹²å•¥ï¼Œçº¿ä¸Šçš„å¹¶å‘è¿æ¥æ•°åŠ¨ä¸åŠ¨å°±ä¸Šåƒäº†ã€‚</p><p>äº§ç”Ÿè¿™ä¸ªç–‘é—®çš„åŸå› ï¼Œæ˜¯ææ··äº†<strong>å¹¶å‘è¿æ¥å’Œå¹¶å‘æŸ¥è¯¢ã€‚</strong></p><p>å¹¶å‘è¿æ¥å’Œå¹¶å‘æŸ¥è¯¢ï¼Œå¹¶ä¸æ˜¯åŒä¸€ä¸ªæ¦‚å¿µã€‚ä½ åœ¨show processlistçš„ç»“æœé‡Œï¼Œçœ‹åˆ°çš„å‡ åƒä¸ªè¿æ¥ï¼ŒæŒ‡çš„å°±æ˜¯å¹¶å‘è¿æ¥ã€‚è€Œâ€œå½“å‰æ­£åœ¨æ‰§è¡Œâ€çš„è¯­å¥ï¼Œæ‰æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å¹¶å‘æŸ¥è¯¢ã€‚</p><p>å¹¶å‘è¿æ¥æ•°è¾¾åˆ°å‡ åƒä¸ªå½±å“å¹¶ä¸å¤§ï¼Œå°±æ˜¯å¤šå ä¸€äº›å†…å­˜è€Œå·²ã€‚æˆ‘ä»¬åº”è¯¥å…³æ³¨çš„æ˜¯å¹¶å‘æŸ¥è¯¢ï¼Œå› ä¸ºå¹¶å‘æŸ¥è¯¢å¤ªé«˜æ‰æ˜¯CPUæ€æ‰‹ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è®¾ç½®innodb_thread_concurrencyå‚æ•°çš„åŸå› ã€‚</p><p>ç„¶åï¼Œä½ å¯èƒ½è¿˜ä¼šæƒ³èµ·æˆ‘ä»¬åœ¨<a href="https://time.geekbang.org/column/article/70215">ç¬¬7ç¯‡æ–‡ç« </a>ä¸­è®²åˆ°çš„çƒ­ç‚¹æ›´æ–°å’Œæ­»é”æ£€æµ‹çš„æ—¶å€™ï¼Œå¦‚æœæŠŠinnodb_thread_concurrencyè®¾ç½®ä¸º128çš„è¯ï¼Œé‚£ä¹ˆå‡ºç°åŒä¸€è¡Œçƒ­ç‚¹æ›´æ–°çš„é—®é¢˜æ—¶ï¼Œæ˜¯ä¸æ˜¯å¾ˆå¿«å°±æŠŠ128æ¶ˆè€—å®Œäº†ï¼Œè¿™æ ·æ•´ä¸ªç³»ç»Ÿæ˜¯ä¸æ˜¯å°±æŒ‚äº†å‘¢ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œ<strong>åœ¨çº¿ç¨‹è¿›å…¥é”ç­‰å¾…ä»¥åï¼Œå¹¶å‘çº¿ç¨‹çš„è®¡æ•°ä¼šå‡ä¸€</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ç­‰è¡Œé”ï¼ˆä¹ŸåŒ…æ‹¬é—´éš™é”ï¼‰çš„çº¿ç¨‹æ˜¯ä¸ç®—åœ¨128é‡Œé¢çš„ã€‚</p><p>MySQLè¿™æ ·è®¾è®¡æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ã€‚å› ä¸ºï¼Œè¿›å…¥é”ç­‰å¾…çš„çº¿ç¨‹å·²ç»ä¸åƒCPUäº†ï¼›æ›´é‡è¦çš„æ˜¯ï¼Œå¿…é¡»è¿™ä¹ˆè®¾è®¡ï¼Œæ‰èƒ½é¿å…æ•´ä¸ªç³»ç»Ÿé”æ­»ã€‚</p><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå‡è®¾å¤„äºé”ç­‰å¾…çš„çº¿ç¨‹ä¹Ÿå å¹¶å‘çº¿ç¨‹çš„è®¡æ•°ï¼Œä½ å¯ä»¥è®¾æƒ³ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼š</p><ol>
<li>
<p>çº¿ç¨‹1æ‰§è¡Œbegin; update t set c=c+1 where id=1, å¯åŠ¨äº†äº‹åŠ¡trx1ï¼Œ ç„¶åä¿æŒè¿™ä¸ªçŠ¶æ€ã€‚è¿™æ—¶å€™ï¼Œçº¿ç¨‹å¤„äºç©ºé—²çŠ¶æ€ï¼Œä¸ç®—åœ¨å¹¶å‘çº¿ç¨‹é‡Œé¢ã€‚</p>
</li>
<li>
<p>çº¿ç¨‹2åˆ°çº¿ç¨‹129éƒ½æ‰§è¡Œ update t set c=c+1 where id=1; ç”±äºç­‰è¡Œé”ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚è¿™æ ·å°±æœ‰128ä¸ªçº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼›</p>
</li>
<li>
<p>å¦‚æœå¤„äºé”ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹è®¡æ•°ä¸å‡ä¸€ï¼ŒInnoDBå°±ä¼šè®¤ä¸ºçº¿ç¨‹æ•°ç”¨æ»¡äº†ï¼Œä¼šé˜»æ­¢å…¶ä»–è¯­å¥è¿›å…¥å¼•æ“æ‰§è¡Œï¼Œè¿™æ ·çº¿ç¨‹1ä¸èƒ½æäº¤äº‹åŠ¡ã€‚è€Œå¦å¤–çš„128ä¸ªçº¿ç¨‹åˆå¤„äºé”ç­‰å¾…çŠ¶æ€ï¼Œæ•´ä¸ªç³»ç»Ÿå°±å µä½äº†ã€‚</p>
</li>
</ol><p>ä¸‹å›¾2æ˜¾ç¤ºçš„å°±æ˜¯è¿™ä¸ªçŠ¶æ€ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/32/1d/3206ea18b8a24b546515b1b95dc4a11d.png" alt=""></p><center><span class="reference">å›¾2 ç³»ç»Ÿé”æ­»çŠ¶æ€ï¼ˆå‡è®¾ç­‰è¡Œé”çš„è¯­å¥å ç”¨å¹¶å‘è®¡æ•°ï¼‰</span></center><p>è¿™æ—¶å€™InnoDBä¸èƒ½å“åº”ä»»ä½•è¯·æ±‚ï¼Œæ•´ä¸ªç³»ç»Ÿè¢«é”æ­»ã€‚è€Œä¸”ï¼Œç”±äºæ‰€æœ‰çº¿ç¨‹éƒ½å¤„äºç­‰å¾…çŠ¶æ€ï¼Œæ­¤æ—¶å ç”¨çš„CPUå´æ˜¯0ï¼Œè€Œè¿™æ˜æ˜¾ä¸åˆç†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¯´InnoDBåœ¨è®¾è®¡æ—¶ï¼Œé‡åˆ°è¿›ç¨‹è¿›å…¥é”ç­‰å¾…çš„æƒ…å†µæ—¶ï¼Œå°†å¹¶å‘çº¿ç¨‹çš„è®¡æ•°å‡1çš„è®¾è®¡ï¼Œæ˜¯åˆç†è€Œä¸”æ˜¯å¿…è¦çš„ã€‚</p><p>è™½ç„¶è¯´ç­‰é”çš„çº¿ç¨‹ä¸ç®—åœ¨å¹¶å‘çº¿ç¨‹è®¡æ•°é‡Œï¼Œä½†å¦‚æœå®ƒåœ¨çœŸæ­£åœ°æ‰§è¡ŒæŸ¥è¯¢ï¼Œå°±æ¯”å¦‚æˆ‘ä»¬ä¸Šé¢ä¾‹å­ä¸­å‰ä¸‰ä¸ªäº‹åŠ¡ä¸­çš„select sleep(100) from tï¼Œè¿˜æ˜¯è¦ç®—è¿›å¹¶å‘çº¿ç¨‹çš„è®¡æ•°çš„ã€‚</p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒåŒæ—¶åœ¨æ‰§è¡Œçš„è¯­å¥è¶…è¿‡äº†è®¾ç½®çš„innodb_thread_concurrencyçš„å€¼ï¼Œè¿™æ—¶å€™ç³»ç»Ÿå…¶å®å·²ç»ä¸è¡Œäº†ï¼Œä½†æ˜¯é€šè¿‡select 1æ¥æ£€æµ‹ç³»ç»Ÿï¼Œä¼šè®¤ä¸ºç³»ç»Ÿè¿˜æ˜¯æ­£å¸¸çš„ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨select 1çš„åˆ¤æ–­é€»è¾‘è¦ä¿®æ”¹ä¸€ä¸‹ã€‚</p><h1>æŸ¥è¡¨åˆ¤æ–­</h1><p>ä¸ºäº†èƒ½å¤Ÿæ£€æµ‹InnoDBå¹¶å‘çº¿ç¨‹æ•°è¿‡å¤šå¯¼è‡´çš„ç³»ç»Ÿä¸å¯ç”¨æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦æ‰¾ä¸€ä¸ªè®¿é—®InnoDBçš„åœºæ™¯ã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼Œåœ¨ç³»ç»Ÿåº“ï¼ˆmysqlåº“ï¼‰é‡Œåˆ›å»ºä¸€ä¸ªè¡¨ï¼Œæ¯”å¦‚å‘½åä¸ºhealth_checkï¼Œé‡Œé¢åªæ”¾ä¸€è¡Œæ•°æ®ï¼Œç„¶åå®šæœŸæ‰§è¡Œï¼š</p><pre><code>mysql&gt; select * from mysql.health_check; 
</code></pre><p>ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æµ‹å‡ºç”±äºå¹¶å‘çº¿ç¨‹è¿‡å¤šå¯¼è‡´çš„æ•°æ®åº“ä¸å¯ç”¨çš„æƒ…å†µã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬é©¬ä¸Šè¿˜ä¼šç¢°åˆ°ä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œå³ï¼šç©ºé—´æ»¡äº†ä»¥åï¼Œè¿™ç§æ–¹æ³•åˆä¼šå˜å¾—ä¸å¥½ä½¿ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œæ›´æ–°äº‹åŠ¡è¦å†™binlogï¼Œè€Œä¸€æ—¦binlogæ‰€åœ¨ç£ç›˜çš„ç©ºé—´å ç”¨ç‡è¾¾åˆ°100%ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ›´æ–°è¯­å¥å’Œäº‹åŠ¡æäº¤çš„commitè¯­å¥å°±éƒ½ä¼šè¢«å µä½ã€‚ä½†æ˜¯ï¼Œç³»ç»Ÿè¿™æ—¶å€™è¿˜æ˜¯å¯ä»¥æ­£å¸¸è¯»æ•°æ®çš„ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬è¿˜æ˜¯æŠŠè¿™æ¡ç›‘æ§è¯­å¥å†æ”¹è¿›ä¸€ä¸‹ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹æŠŠæŸ¥è¯¢è¯­å¥æ”¹æˆæ›´æ–°è¯­å¥åçš„æ•ˆæœã€‚</p><h1>æ›´æ–°åˆ¤æ–­</h1><p>æ—¢ç„¶è¦æ›´æ–°ï¼Œå°±è¦æ”¾ä¸ªæœ‰æ„ä¹‰çš„å­—æ®µï¼Œå¸¸è§åšæ³•æ˜¯æ”¾ä¸€ä¸ªtimestampå­—æ®µï¼Œç”¨æ¥è¡¨ç¤ºæœ€åä¸€æ¬¡æ‰§è¡Œæ£€æµ‹çš„æ—¶é—´ã€‚è¿™æ¡æ›´æ–°è¯­å¥ç±»ä¼¼äºï¼š</p><pre><code>mysql&gt; update mysql.health_check set t_modified=now();
</code></pre><p>èŠ‚ç‚¹å¯ç”¨æ€§çš„æ£€æµ‹éƒ½åº”è¯¥åŒ…å«ä¸»åº“å’Œå¤‡åº“ã€‚å¦‚æœç”¨æ›´æ–°æ¥æ£€æµ‹ä¸»åº“çš„è¯ï¼Œé‚£ä¹ˆå¤‡åº“ä¹Ÿè¦è¿›è¡Œæ›´æ–°æ£€æµ‹ã€‚</p><p>ä½†ï¼Œå¤‡åº“çš„æ£€æµ‹ä¹Ÿæ˜¯è¦å†™binlogçš„ã€‚ç”±äºæˆ‘ä»¬ä¸€èˆ¬ä¼šæŠŠæ•°æ®åº“Aå’ŒBçš„ä¸»å¤‡å…³ç³»è®¾è®¡ä¸ºåŒMç»“æ„ï¼Œæ‰€ä»¥åœ¨å¤‡åº“Bä¸Šæ‰§è¡Œçš„æ£€æµ‹å‘½ä»¤ï¼Œä¹Ÿè¦å‘å›ç»™ä¸»åº“Aã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœä¸»åº“Aå’Œå¤‡åº“Béƒ½ç”¨ç›¸åŒçš„æ›´æ–°å‘½ä»¤ï¼Œå°±å¯èƒ½å‡ºç°è¡Œå†²çªï¼Œä¹Ÿå°±æ˜¯å¯èƒ½ä¼šå¯¼è‡´ä¸»å¤‡åŒæ­¥åœæ­¢ã€‚æ‰€ä»¥ï¼Œç°åœ¨çœ‹æ¥mysql.health_check è¿™ä¸ªè¡¨å°±ä¸èƒ½åªæœ‰ä¸€è¡Œæ•°æ®äº†ã€‚</p><p>ä¸ºäº†è®©ä¸»å¤‡ä¹‹é—´çš„æ›´æ–°ä¸äº§ç”Ÿå†²çªï¼Œæˆ‘ä»¬å¯ä»¥åœ¨mysql.health_checkè¡¨ä¸Šå­˜å…¥å¤šè¡Œæ•°æ®ï¼Œå¹¶ç”¨Aã€Bçš„server_idåšä¸»é”®ã€‚</p><pre><code>mysql&gt; CREATE TABLE `health_check` (
  `id` int(11) NOT NULL,
  `t_modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB;

/* æ£€æµ‹å‘½ä»¤ */
insert into mysql.health_check(id, t_modified) values (@@server_id, now()) on duplicate key update t_modified=now();
</code></pre><p>ç”±äºMySQLè§„å®šäº†ä¸»åº“å’Œå¤‡åº“çš„server_idå¿…é¡»ä¸åŒï¼ˆå¦åˆ™åˆ›å»ºä¸»å¤‡å…³ç³»çš„æ—¶å€™å°±ä¼šæŠ¥é”™ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯ä¸»ã€å¤‡åº“å„è‡ªçš„æ£€æµ‹å‘½ä»¤ä¸ä¼šå‘ç”Ÿå†²çªã€‚</p><p>æ›´æ–°åˆ¤æ–­æ˜¯ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ¡ˆäº†ï¼Œä¸è¿‡ä¾ç„¶å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚å…¶ä¸­ï¼Œâ€œåˆ¤å®šæ…¢â€ä¸€ç›´æ˜¯è®©DBAå¤´ç–¼çš„é—®é¢˜ã€‚</p><p>ä½ ä¸€å®šä¼šç–‘æƒ‘ï¼Œ<strong>æ›´æ–°è¯­å¥ï¼Œå¦‚æœå¤±è´¥æˆ–è€…è¶…æ—¶ï¼Œå°±å¯ä»¥å‘èµ·ä¸»å¤‡åˆ‡æ¢äº†ï¼Œä¸ºä»€ä¹ˆè¿˜ä¼šæœ‰åˆ¤å®šæ…¢çš„é—®é¢˜å‘¢ï¼Ÿ</strong></p><p>å…¶å®ï¼Œè¿™é‡Œæ¶‰åŠåˆ°çš„æ˜¯æœåŠ¡å™¨IOèµ„æºåˆ†é…çš„é—®é¢˜ã€‚</p><p>é¦–å…ˆï¼Œæ‰€æœ‰çš„æ£€æµ‹é€»è¾‘éƒ½éœ€è¦ä¸€ä¸ªè¶…æ—¶æ—¶é—´Nã€‚æ‰§è¡Œä¸€æ¡updateè¯­å¥ï¼Œè¶…è¿‡Nç§’åè¿˜ä¸è¿”å›ï¼Œå°±è®¤ä¸ºç³»ç»Ÿä¸å¯ç”¨ã€‚</p><p>ä½ å¯ä»¥è®¾æƒ³ä¸€ä¸ªæ—¥å¿—ç›˜çš„IOåˆ©ç”¨ç‡å·²ç»æ˜¯100%çš„åœºæ™¯ã€‚è¿™æ—¶å€™ï¼Œæ•´ä¸ªç³»ç»Ÿå“åº”éå¸¸æ…¢ï¼Œå·²ç»éœ€è¦åšä¸»å¤‡åˆ‡æ¢äº†ã€‚</p><p>ä½†æ˜¯ä½ è¦çŸ¥é“ï¼ŒIOåˆ©ç”¨ç‡100%è¡¨ç¤ºç³»ç»Ÿçš„IOæ˜¯åœ¨å·¥ä½œçš„ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½æœ‰æœºä¼šè·å¾—IOèµ„æºï¼Œæ‰§è¡Œè‡ªå·±çš„ä»»åŠ¡ã€‚è€Œæˆ‘ä»¬çš„æ£€æµ‹ä½¿ç”¨çš„updateå‘½ä»¤ï¼Œéœ€è¦çš„èµ„æºå¾ˆå°‘ï¼Œæ‰€ä»¥å¯èƒ½åœ¨æ‹¿åˆ°IOèµ„æºçš„æ—¶å€™å°±å¯ä»¥æäº¤æˆåŠŸï¼Œå¹¶ä¸”åœ¨è¶…æ—¶æ—¶é—´Nç§’æœªåˆ°è¾¾ä¹‹å‰å°±è¿”å›ç»™äº†æ£€æµ‹ç³»ç»Ÿã€‚</p><p>æ£€æµ‹ç³»ç»Ÿä¸€çœ‹ï¼Œupdateå‘½ä»¤æ²¡æœ‰è¶…æ—¶ï¼Œäºæ˜¯å°±å¾—åˆ°äº†â€œç³»ç»Ÿæ­£å¸¸â€çš„ç»“è®ºã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ—¶å€™åœ¨ä¸šåŠ¡ç³»ç»Ÿä¸Šæ­£å¸¸çš„SQLè¯­å¥å·²ç»æ‰§è¡Œå¾—å¾ˆæ…¢äº†ï¼Œä½†æ˜¯DBAä¸Šå»ä¸€çœ‹ï¼ŒHAç³»ç»Ÿè¿˜åœ¨æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”è®¤ä¸ºä¸»åº“ç°åœ¨å¤„äºå¯ç”¨çŠ¶æ€ã€‚</p><p>ä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™ä¸ªç°è±¡ï¼Œæ ¹æœ¬åŸå› æ˜¯æˆ‘ä»¬ä¸Šé¢è¯´çš„æ‰€æœ‰æ–¹æ³•ï¼Œéƒ½æ˜¯åŸºäºå¤–éƒ¨æ£€æµ‹çš„ã€‚å¤–éƒ¨æ£€æµ‹å¤©ç„¶æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯éšæœºæ€§ã€‚</p><p>å› ä¸ºï¼Œå¤–éƒ¨æ£€æµ‹éƒ½éœ€è¦å®šæ—¶è½®è¯¢ï¼Œæ‰€ä»¥ç³»ç»Ÿå¯èƒ½å·²ç»å‡ºé—®é¢˜äº†ï¼Œä½†æ˜¯å´éœ€è¦ç­‰åˆ°ä¸‹ä¸€ä¸ªæ£€æµ‹å‘èµ·æ‰§è¡Œè¯­å¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰æœ‰å¯èƒ½å‘ç°é—®é¢˜ã€‚è€Œä¸”ï¼Œå¦‚æœä½ çš„è¿æ°”ä¸å¤Ÿå¥½çš„è¯ï¼Œå¯èƒ½ç¬¬ä¸€æ¬¡è½®è¯¢è¿˜ä¸èƒ½å‘ç°ï¼Œè¿™å°±ä¼šå¯¼è‡´åˆ‡æ¢æ…¢çš„é—®é¢˜ã€‚</p><p>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æˆ‘è¦å†å’Œä½ ä»‹ç»ä¸€ç§åœ¨MySQLå†…éƒ¨å‘ç°æ•°æ®åº“é—®é¢˜çš„æ–¹æ³•ã€‚</p><h1>å†…éƒ¨ç»Ÿè®¡</h1><p>é’ˆå¯¹ç£ç›˜åˆ©ç”¨ç‡è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœMySQLå¯ä»¥å‘Šè¯‰æˆ‘ä»¬ï¼Œå†…éƒ¨æ¯ä¸€æ¬¡IOè¯·æ±‚çš„æ—¶é—´ï¼Œé‚£æˆ‘ä»¬åˆ¤æ–­æ•°æ®åº“æ˜¯å¦å‡ºé—®é¢˜çš„æ–¹æ³•å°±å¯é å¾—å¤šäº†ã€‚</p><p>å…¶å®ï¼ŒMySQL 5.6ç‰ˆæœ¬ä»¥åæä¾›çš„performance_schemaåº“ï¼Œå°±åœ¨file_summary_by_event_nameè¡¨é‡Œç»Ÿè®¡äº†æ¯æ¬¡IOè¯·æ±‚çš„æ—¶é—´ã€‚</p><p>file_summary_by_event_nameè¡¨é‡Œæœ‰å¾ˆå¤šè¡Œæ•°æ®ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹event_name='wait/io/file/innodb/innodb_log_fileâ€™è¿™ä¸€è¡Œã€‚</p><p><img src="https://static001.geekbang.org/resource/image/75/dd/752ccfe43b4eab155be17401838c62dd.png" alt=""></p><center><span class="reference">å›¾3 performance_schema.file_summary_by_event_nameçš„ä¸€è¡Œ</span></center><p>å›¾ä¸­è¿™ä¸€è¡Œè¡¨ç¤ºç»Ÿè®¡çš„æ˜¯redo logçš„å†™å…¥æ—¶é—´ï¼Œç¬¬ä¸€åˆ—EVENT_NAME è¡¨ç¤ºç»Ÿè®¡çš„ç±»å‹ã€‚</p><p>æ¥ä¸‹æ¥çš„ä¸‰ç»„æ•°æ®ï¼Œæ˜¾ç¤ºçš„æ˜¯redo logæ“ä½œçš„æ—¶é—´ç»Ÿè®¡ã€‚</p><p>ç¬¬ä¸€ç»„äº”åˆ—ï¼Œæ˜¯æ‰€æœ‰IOç±»å‹çš„ç»Ÿè®¡ã€‚å…¶ä¸­ï¼ŒCOUNT_STARæ˜¯æ‰€æœ‰IOçš„æ€»æ¬¡æ•°ï¼Œæ¥ä¸‹æ¥å››åˆ—æ˜¯å…·ä½“çš„ç»Ÿè®¡é¡¹ï¼Œ å•ä½æ˜¯çš®ç§’ï¼›å‰ç¼€SUMã€MINã€AVGã€MAXï¼Œé¡¾åæ€ä¹‰æŒ‡çš„å°±æ˜¯æ€»å’Œã€æœ€å°å€¼ã€å¹³å‡å€¼å’Œæœ€å¤§å€¼ã€‚</p><p>ç¬¬äºŒç»„å…­åˆ—ï¼Œæ˜¯è¯»æ“ä½œçš„ç»Ÿè®¡ã€‚æœ€åä¸€åˆ—SUM_NUMBER_OF_BYTES_READç»Ÿè®¡çš„æ˜¯ï¼Œæ€»å…±ä»redo logé‡Œè¯»äº†å¤šå°‘ä¸ªå­—èŠ‚ã€‚</p><p>ç¬¬ä¸‰ç»„å…­åˆ—ï¼Œç»Ÿè®¡çš„æ˜¯å†™æ“ä½œã€‚</p><p>æœ€åçš„ç¬¬å››ç»„æ•°æ®ï¼Œæ˜¯å¯¹å…¶ä»–ç±»å‹æ•°æ®çš„ç»Ÿè®¡ã€‚åœ¨redo logé‡Œï¼Œä½ å¯ä»¥è®¤ä¸ºå®ƒä»¬å°±æ˜¯å¯¹fsyncçš„ç»Ÿè®¡ã€‚</p><p>åœ¨performance_schemaåº“çš„file_summary_by_event_nameè¡¨é‡Œï¼Œbinlogå¯¹åº”çš„æ˜¯event_name = "wait/io/file/sql/binlog"è¿™ä¸€è¡Œã€‚å„ä¸ªå­—æ®µçš„ç»Ÿè®¡é€»è¾‘ï¼Œä¸redo logçš„å„ä¸ªå­—æ®µå®Œå…¨ç›¸åŒã€‚è¿™é‡Œï¼Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚</p><p>å› ä¸ºæˆ‘ä»¬æ¯ä¸€æ¬¡æ“ä½œæ•°æ®åº“ï¼Œperformance_schemaéƒ½éœ€è¦é¢å¤–åœ°ç»Ÿè®¡è¿™äº›ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å¼€è¿™ä¸ªç»Ÿè®¡åŠŸèƒ½æ˜¯æœ‰æ€§èƒ½æŸè€—çš„ã€‚</p><p>æˆ‘çš„æµ‹è¯•ç»“æœæ˜¯ï¼Œå¦‚æœæ‰“å¼€æ‰€æœ‰çš„performance_schemaé¡¹ï¼Œæ€§èƒ½å¤§æ¦‚ä¼šä¸‹é™10%å·¦å³ã€‚æ‰€ä»¥ï¼Œæˆ‘å»ºè®®ä½ åªæ‰“å¼€è‡ªå·±éœ€è¦çš„é¡¹è¿›è¡Œç»Ÿè®¡ã€‚ä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•æ‰“å¼€æˆ–è€…å…³é—­æŸä¸ªå…·ä½“é¡¹çš„ç»Ÿè®¡ã€‚</p><p>å¦‚æœè¦æ‰“å¼€redo logçš„æ—¶é—´ç›‘æ§ï¼Œä½ å¯ä»¥æ‰§è¡Œè¿™ä¸ªè¯­å¥ï¼š</p><pre><code>mysql&gt; update setup_instruments set ENABLED='YES', Timed='YES' where name like '%wait/io/file/innodb/innodb_log_file%';
</code></pre><p>å‡è®¾ï¼Œç°åœ¨ä½ å·²ç»å¼€å¯äº†redo logå’Œbinlogè¿™ä¸¤ä¸ªç»Ÿè®¡ä¿¡æ¯ï¼Œé‚£è¦æ€ä¹ˆæŠŠè¿™ä¸ªä¿¡æ¯ç”¨åœ¨å®ä¾‹çŠ¶æ€è¯Šæ–­ä¸Šå‘¢ï¼Ÿ</p><p>å¾ˆç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡MAX_TIMERçš„å€¼æ¥åˆ¤æ–­æ•°æ®åº“æ˜¯å¦å‡ºé—®é¢˜äº†ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥è®¾å®šé˜ˆå€¼ï¼Œå•æ¬¡IOè¯·æ±‚æ—¶é—´è¶…è¿‡200æ¯«ç§’å±äºå¼‚å¸¸ï¼Œç„¶åä½¿ç”¨ç±»ä¼¼ä¸‹é¢è¿™æ¡è¯­å¥ä½œä¸ºæ£€æµ‹é€»è¾‘ã€‚</p><pre><code>mysql&gt; select event_name,MAX_TIMER_WAIT  FROM performance_schema.file_summary_by_event_name where event_name in ('wait/io/file/innodb/innodb_log_file','wait/io/file/sql/binlog') and MAX_TIMER_WAIT&gt;200*1000000000;
</code></pre><p>å‘ç°å¼‚å¸¸åï¼Œå–åˆ°ä½ éœ€è¦çš„ä¿¡æ¯ï¼Œå†é€šè¿‡ä¸‹é¢è¿™æ¡è¯­å¥ï¼š</p><pre><code>mysql&gt; truncate table performance_schema.file_summary_by_event_name;
</code></pre><p>æŠŠä¹‹å‰çš„ç»Ÿè®¡ä¿¡æ¯æ¸…ç©ºã€‚è¿™æ ·å¦‚æœåé¢çš„ç›‘æ§ä¸­ï¼Œå†æ¬¡å‡ºç°è¿™ä¸ªå¼‚å¸¸ï¼Œå°±å¯ä»¥åŠ å…¥ç›‘æ§ç´¯ç§¯å€¼äº†ã€‚</p><h1>å°ç»“</h1><p>ä»Šå¤©ï¼Œæˆ‘å’Œä½ ä»‹ç»äº†æ£€æµ‹ä¸€ä¸ªMySQLå®ä¾‹å¥åº·çŠ¶æ€çš„å‡ ç§æ–¹æ³•ï¼Œä»¥åŠå„ç§æ–¹æ³•å­˜åœ¨çš„é—®é¢˜å’Œæ¼”è¿›çš„é€»è¾‘ã€‚</p><p>ä½ çœ‹å®Œåå¯èƒ½ä¼šè§‰å¾—ï¼Œselect 1è¿™æ ·çš„æ–¹æ³•æ˜¯ä¸æ˜¯å·²ç»è¢«æ·˜æ±°äº†å‘¢ï¼Œä½†å®é™…ä¸Šä½¿ç”¨éå¸¸å¹¿æ³›çš„MHAï¼ˆMaster High Availabilityï¼‰ï¼Œé»˜è®¤ä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ªæ–¹æ³•ã€‚</p><p>MHAä¸­çš„å¦ä¸€ä¸ªå¯é€‰æ–¹æ³•æ˜¯åªåšè¿æ¥ï¼Œå°±æ˜¯ â€œå¦‚æœè¿æ¥æˆåŠŸå°±è®¤ä¸ºä¸»åº“æ²¡é—®é¢˜â€ã€‚ä¸è¿‡æ®æˆ‘æ‰€çŸ¥ï¼Œé€‰æ‹©è¿™ä¸ªæ–¹æ³•çš„å¾ˆå°‘ã€‚</p><p>å…¶å®ï¼Œæ¯ä¸ªæ”¹è¿›çš„æ–¹æ¡ˆï¼Œéƒ½ä¼šå¢åŠ é¢å¤–æŸè€—ï¼Œå¹¶ä¸èƒ½ç”¨â€œå¯¹é”™â€åšç›´æ¥åˆ¤æ–­ï¼Œéœ€è¦ä½ æ ¹æ®ä¸šåŠ¡å®é™…æƒ…å†µå»åšæƒè¡¡ã€‚</p><p>æˆ‘ä¸ªäººæ¯”è¾ƒå€¾å‘çš„æ–¹æ¡ˆï¼Œæ˜¯ä¼˜å…ˆè€ƒè™‘updateç³»ç»Ÿè¡¨ï¼Œç„¶åå†é…åˆå¢åŠ æ£€æµ‹performance_schemaçš„ä¿¡æ¯ã€‚</p><p>æœ€åï¼Œåˆåˆ°äº†æˆ‘ä»¬çš„æ€è€ƒé¢˜æ—¶é—´ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘æƒ³é—®ä½ çš„æ˜¯ï¼šä¸šåŠ¡ç³»ç»Ÿä¸€èˆ¬ä¹Ÿæœ‰é«˜å¯ç”¨çš„éœ€æ±‚ï¼Œåœ¨ä½ å¼€å‘å’Œç»´æŠ¤è¿‡çš„æœåŠ¡ä¸­ï¼Œä½ æ˜¯æ€ä¹ˆåˆ¤æ–­æœåŠ¡æœ‰æ²¡æœ‰å‡ºé—®é¢˜çš„å‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠä½ ç”¨åˆ°çš„æ–¹æ³•å’Œåˆ†æå†™åœ¨ç•™è¨€åŒºï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­é€‰å–æœ‰è¶£çš„æ–¹æ¡ˆä¸€èµ·æ¥åˆ†äº«å’Œåˆ†æã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><h1>ä¸ŠæœŸé—®é¢˜æ—¶é—´</h1><p>ä¸ŠæœŸçš„é—®é¢˜æ˜¯ï¼Œå¦‚æœä½¿ç”¨GTIDç­‰ä½ç‚¹çš„æ–¹æ¡ˆåšè¯»å†™åˆ†ç¦»ï¼Œåœ¨å¯¹å¤§è¡¨åšDDLçš„æ—¶å€™ä¼šæ€ä¹ˆæ ·ã€‚</p><p>å‡è®¾ï¼Œè¿™æ¡è¯­å¥åœ¨ä¸»åº“ä¸Šè¦æ‰§è¡Œ10åˆ†é’Ÿï¼Œæäº¤åä¼ åˆ°å¤‡åº“å°±è¦10åˆ†é’Ÿï¼ˆå…¸å‹çš„å¤§äº‹åŠ¡ï¼‰ã€‚é‚£ä¹ˆï¼Œåœ¨ä¸»åº“DDLä¹‹åå†æäº¤çš„äº‹åŠ¡çš„GTIDï¼Œå»å¤‡åº“æŸ¥çš„æ—¶å€™ï¼Œå°±ä¼šç­‰10åˆ†é’Ÿæ‰å‡ºç°ã€‚</p><p>è¿™æ ·ï¼Œè¿™ä¸ªè¯»å†™åˆ†ç¦»æœºåˆ¶åœ¨è¿™10åˆ†é’Ÿä¹‹å†…éƒ½ä¼šè¶…æ—¶ï¼Œç„¶åèµ°ä¸»åº“ã€‚</p><p>è¿™ç§é¢„æœŸå†…çš„æ“ä½œï¼Œåº”è¯¥åœ¨ä¸šåŠ¡ä½å³°æœŸçš„æ—¶å€™ï¼Œç¡®ä¿ä¸»åº“èƒ½å¤Ÿæ”¯æŒæ‰€æœ‰ä¸šåŠ¡æŸ¥è¯¢ï¼Œç„¶åæŠŠè¯»è¯·æ±‚éƒ½åˆ‡åˆ°ä¸»åº“ï¼Œå†åœ¨ä¸»åº“ä¸ŠåšDDLã€‚ç­‰å¤‡åº“å»¶è¿Ÿè¿½ä¸Šä»¥åï¼Œå†æŠŠè¯»è¯·æ±‚åˆ‡å›å¤‡åº“ã€‚</p><p>é€šè¿‡è¿™ä¸ªæ€è€ƒé¢˜ï¼Œæˆ‘ä¸»è¦æƒ³è®©å…³æ³¨çš„æ˜¯ï¼Œå¤§äº‹åŠ¡å¯¹ç­‰ä½ç‚¹æ–¹æ¡ˆçš„å½±å“ã€‚</p><p>å½“ç„¶äº†ï¼Œä½¿ç”¨gh-ostæ–¹æ¡ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚</p><p>è¯„è®ºåŒºç•™è¨€ç‚¹èµæ¿ï¼š</p><blockquote>
<p>@æ›¾å‰‘ã€@max åŒå­¦æåˆ°çš„å¤‡åº“å…ˆåšï¼Œå†åˆ‡ä¸»åº“çš„æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
</blockquote><p><img src="https://static001.geekbang.org/resource/image/09/77/09c1073f99cf71d2fb162a716b5fa577.jpg" alt=""></p>
                    </div>
                </div>

            </div>
            <div data-v-87ffcada="" class="article-comments pd"><h2 data-v-87ffcada=""><span
                    data-v-87ffcada="">ç²¾é€‰ç•™è¨€</span></h2>
                <ul data-v-87ffcada="">
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æŸã€äºº</span>
                            </div>
                            <div class="bd">ç›®å‰æ˜¯åªæœ‰ä¸€å°æœåŠ¡å™¨æ¥åšåˆ¤æ–­,æ˜¯å¦æ•°æ®åº“å‡ºé—®é¢˜äº†,å°±æ˜¯é‡‡ç”¨çš„updateçš„æ–¹å¼ã€‚å¦‚æœæ˜¯ä¸»ä»æ¶æ„å°±ä¸€æ¡è¯­å¥,å¦‚æœæ˜¯åŒä¸»çš„è¯å°±æ˜¯ä¸¤æ¡updateè¯­å¥ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼æœ‰å¾ˆå¤§çš„å¼Šç«¯,åªæœ‰ä¸€ä¸ªè¿›ç¨‹æ¥åˆ¤æ–­æ•°æ®åº“å‡ºé—®é¢˜çš„è¯,ä¼šå‡ºç°å•ç‚¹åˆ¤æ–­çš„é—®é¢˜ã€‚æ‰€ä»¥åç»­å‡†å¤‡å¤šä¸ªå•æ•°è¿›ç¨‹æ¥åšåˆ¤æ–­,å¦‚æœè¶…è¿‡äº†åŠæ•°ä»¥ä¸Šçš„ç›‘æ§è¿›ç¨‹éƒ½è®¤ä¸ºæ•°æ®åº“å‡ºé—®é¢˜,æ‰åšåˆ‡æ¢ã€‚<br>è€å¸ˆæˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜:<br>1.innodb_thread_concurrencyçš„è®¾ç½®æ˜¯ä¸æ˜¯åº”è¯¥è·Ÿè®¡ç®—æœºæ ¸æ•°æˆæ­£æ¯”,ä¸€èˆ¬æ˜¯1.5å€-2å€å·¦å³ï¼Ÿ<br>2.æ€ä¹ˆä¹‹å‰é‡åˆ°ç©ºé—´æ»¡äº†,æ•°æ®åº“éƒ½ç™»ä¸ä¸Šäº†,æ‰€æœ‰çš„è¿æ¥éƒ½è¿ä¸ä¸Š,æ›´ä¸ç”¨æ‰§è¡Œselectè¯­å¥äº†,è¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå› å•Šï¼Ÿ <br></div>
                            <span class="time">2019-01-20 20:57</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">1. è™½ç„¶ç†è®ºä¸Šæ˜¯æ ¸æ•°çš„2å€å·¦å³æœ€å¥½ï¼Œä½†æ˜¯ç°åœ¨å¾ˆå¤šäººæŠŠMySQLåˆ›å»ºåœ¨è™šæ‹Ÿæœºä¸Šï¼Œå°±åˆ†1~2ä¸ªæ ¸ï¼Œæˆ‘æ€•é‚£ä¹ˆå†™ï¼Œæœ‰åŒå­¦ä¼šè®¤ä¸ºinnodb_thread_concurrencyå»ºè®®è®¾ç½®æˆ4ã€‚ã€‚<br><br>2. ç©ºé—´æ»¡æœ¬èº«æ˜¯ä¸ä¼šå¯¼è‡´è¿ä¸ä¸Šçš„ã€‚ä½†æ˜¯å› ä¸ºç©ºé—´æ»¡ï¼Œäº‹åŠ¡æ— æ³•æäº¤ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¥ä¸‹æ¥å¤–éƒ¨äº‹åŠ¡é‡è¯•ï¼Œæ–°é‡è¯•çš„ä¸šåŠ¡è¿˜æ˜¯å µåœ¨æäº¤é˜¶æ®µï¼ŒæŒç»­ç´¯ç§¯å¯èƒ½ä¼šæŠŠè¿æ¥æ•°ç”¨æ»¡</p>
                                <p class="reply-time">2019-01-21 02:18</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/9b/22/dd04892a.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">heat nan</span>
                            </div>
                            <div class="bd">è€å¸ˆï¼Œä¸€ç›´æœ‰ä¸ªç–‘é—®ï¼Œæƒ³å’¨è¯¢ä¸‹ã€‚innodb buffer ä¼šç¼“å­˜è¡¨çš„æ•°æ®é¡µå’Œç´¢å¼•é¡µã€‚ç°åœ¨æˆ‘æƒ³çŸ¥é“å¦‚ä½•ç¡®è®¤ä¸€ä¸ªæŸ¥è¯¢çš„è¡Œå·²ç»è¢«ç¼“å­˜åœ¨å†…å­˜ä¸­äº†ã€‚  æˆ‘æƒ³äº†ä¸€ä¸‹ï¼Œç¬¬ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥å»å†…å­˜ä¸­éå†è¿™ä¸ªè¡¨ç›¸å…³çš„æ•°æ®é¡µã€‚è¿™æ ·çš„è¯ï¼Œå› ä¸ºå†…å­˜ä¸­çš„é¡µå¯èƒ½æ˜¯åˆ†æ•£çš„ï¼Œå¯èƒ½ä¸æ„æˆä¸€ä¸ªå®Œæˆçš„ç´¢å¼•ç»“æ„ï¼Œå¯èƒ½ä¸èƒ½åˆ©ç”¨b+æ ‘å¶å­èŠ‚ç‚¹çš„è·¯ç”±åŠŸèƒ½ã€‚ è¿™é‡Œæœ‰ç‚¹æ¨¡ç³Šï¼Œå¸Œæœ›è€å¸ˆæœ‰ç©ºå¯ä»¥è§£é‡Šä¸€ä¸‹ <br></div>
                            <span class="time">2019-01-19 10:13</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">â€œå› ä¸ºå†…å­˜ä¸­çš„é¡µå¯èƒ½æ˜¯åˆ†æ•£çš„ï¼Œå¯èƒ½ä¸æ„æˆä¸€ä¸ªå®Œæˆçš„ç´¢å¼•ç»“æ„ï¼Œå¯èƒ½ä¸èƒ½åˆ©ç”¨b+æ ‘å¶å­èŠ‚ç‚¹çš„è·¯ç”±åŠŸèƒ½ã€‚â€<br><br>è¿™é‡Œä¸å¯¹å“ˆ<br><br>æ”¾åœ¨å†…å­˜é‡Œæ˜¯b+æ ‘ç»„ç»‡çš„ï¼Œå¯ä»¥åˆ©ç”¨b+æ ‘å¶å­èŠ‚ç‚¹çš„è·¯ç”±åŠŸèƒ½çš„</p>
                                <p class="reply-time">2019-01-19 11:05</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/18/cb/edb5a0a0.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å°æ©™æ©™</span>
                            </div>
                            <div class="bd">è€å¸ˆï¼Œæˆ‘å·¥ä½œä¸­é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œjavaå®¢æˆ·ç«¯æ‰§è¡ŒæŸ¥è¯¢è¯­å¥æŠ¥é”™ï¼šResultSet is from UPDATE. No Dataã€‚ç”¨navicatæ‰§è¡Œç›¸åŒè¯­å¥ï¼Œå¾ˆå¿«å°±æŸ¥è¯¢ç»“æŸï¼Œä½†æ˜¯æ²¡æœ‰ç»“æœæ˜¾ç¤ºã€‚è¯·é—®å¯èƒ½ä»€ä¹ˆé—®é¢˜é€ æˆçš„å‘¢ï¼Ÿ <br></div>
                            <span class="time">2019-01-18 16:13</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ï¼Ÿè¿™ä¸¤ä¸ªä¸æ˜¯ä¸€è‡´çš„å—<br><br>æ„æ€å°±æ˜¯ä½ è¦upateçš„è¯­å¥æ‰¾ä¸åˆ°å‘€<br>ä½ æŠŠupdateæ”¹æˆselectï¼Œå…ˆç¡®å®šä¸€ä¸‹æ˜¯ä¸æ˜¯èƒ½çœ‹åˆ°ä½ è¦æ›´æ–°çš„æ•°æ®ï¼ˆæ ¹æ®ä½ è¿™ä¸ªæè¿°ï¼Œåº”è¯¥æ˜¯æ²¡æœ‰ï¼‰</p>
                                <p class="reply-time">2019-01-18 17:17</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJeibN69icI9iapx9h2MtUX3zb2iaggw32w4GAmbUDibPp3ia5MPSznxGZeiadXibBbx6Y13iacDbTDBwKyibA/132" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ‚Ÿç©º</span>
                            </div>
                            <div class="bd">å¯ä»¥å¤§è‡´ä»DBç›‘æ§å›¾ä¸Šåˆ¤æ–­ä¸šåŠ¡æœ‰æ²¡æœ‰é—®é¢˜ï¼š<br>QPS&#47;è¿æ¥æ•°&#47;æ…¢æŸ¥è¯¢&#47;æŸ¥è¯¢å“åº”æ—¶é—´(query_response_timeæ’ä»¶)ç­‰........<br><br>è€å¸ˆè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼š <br>ç‰©ç†æœºå™¨æ˜¯128Gå†…å­˜ï¼ŒDBå®ä¾‹æ•°æ®é‡æ˜¯1.2Tï¼Œç£ç›˜æ˜¯pcie ssd<br>ä¸šåŠ¡æŸ¥è¯¢åœºæ™¯æ˜¯ç®€å•çš„select * from table where id in (1,2,3....);<br>å®ä¾‹QPSåœ¨1000ä»¥ä¸‹æ—¶,æ•°æ®åº“çœ‹ä¸Šå»ä¸€åˆ‡æ­£å¸¸<br>å½“QPSå¤§äº2000+æ—¶, %utilæŒç»­90+, r&#47;sæŒç»­2Wå·¦å³, rMB&#47;sæŒç»­600+, ä¼´éšç€è¿æ¥æ•°&#47;æ…¢æŸ¥è¯¢ç­‰æŠ¥è­¦<br>è¿™ä¸ªæ—¶å€™è¿™ä¸ªæ•°æ®åº“å®ä¾‹å¯ä»¥è¯´æ˜¯å‡ºé—®é¢˜äº†å§ï¼Œè¿™ç±»é—®é¢˜è¯¥æ€ä¹ˆæ’æŸ¥æ ¹å› å‘¢ï¼Ÿ<br>æ˜¯ç”±äºbuffer poolä¸ç£ç›˜å¤§é‡æ¢å…¥æ¢å‡ºå†·æ•°æ®å¯¼è‡´çš„å—ï¼Œæœ‰ç›¸å…³çš„çŠ¶æ€å€¼ç›‘æ§é¡¹å¯ä»¥æŸ¥å—ï¼Ÿ<br><br>innodb buffer poolæ˜¯mysqlå¾ˆé‡è¦çš„ä¸€ä¸ªæ¨¡å—ï¼Œè€å¸ˆåé¢æœ‰å•ç‹¬çš„ç« èŠ‚æ¥è§£æƒ‘å—ï¼ŒæœŸå¾… ï¼ï¼ <br></div>
                            <span class="time">2019-01-18 15:45</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æœ‰çš„ï¼Œ æ•¬è¯·æœŸå¾…<br><br>ä¸è¿‡buffer poolå†…éƒ¨ç»†èŠ‚å¾ˆå¤šï¼Œåªèƒ½æŒ‘å¤§å®¶ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šç”¨åˆ°çš„çŸ¥è¯†ç‚¹æ¥è®²å“ˆ</p>
                                <p class="reply-time">2019-01-18 17:15</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/13/2b/58/11c05ccb.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">One day</span>
                            </div>
                            <div class="bd">ä½œä¸ºä¸€ä¸ªå¼€å‘æˆ‘ä¹Ÿå¾ˆæƒ³äº†è§£ä¸€ä¸‹æˆ‘ä»¬è‡ªå·±ç”Ÿäº§åº“ä¸Šçš„ç›‘æ§æƒ…å†µï¼Œæ¥è§¦åˆ°æœ€å¤šçš„å°±æ˜¯Datasource,ä»¥åŠuserï¼Œpassword,portï¼ˆåŸºæœ¬ä¸Šæ˜¯åŸºäºè¿æ¥é‚£ç§çº§åˆ«ï¼Œæœ€å¤šå°±æ˜¯åŠ é”ï¼‰ï¼Œç­‰ç­‰å‚æ•°ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯åŸºäºä¸šåŠ¡å¼€å‘ã€‚ç«™åœ¨ä¸ªäººå±‚é¢æˆ–è€…ä¸šåŠ¡å¼€å‘å±‚é¢ï¼ˆå¾ˆå°‘èƒ½æ¥è§¦åˆ°DBAï¼Œä»¥åŠçœ‹åˆ°DBAæ˜¯æ€ä¹ˆè®¾ç½®è¿™äº›å‚æ•°æƒ…å†µï¼Œé™¤éåº“æŒ‚æ‰äº†å°±ä¼šå’ŒDBAä¸€èµ·çœ‹è¿™äº›ï¼‰æ€ä¹ˆå»ä¿®æ”¹å’Œè§‚çœ‹ä»¥åŠä½¿ç”¨è¿™äº›å‚æ•°é¸­ <br></div>
                            <span class="time">2019-01-18 14:29</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æœ‰DBAå°±ä¸è¦è‡ªå·±å»ä¿®æ”¹çº¿ä¸Šçš„å‚æ•°å•¦<br><br>å¦‚æœè¯´è§‚å¯Ÿï¼Œä¸€ä¸ªæ¯”è¾ƒå¥½çš„ç®¡æ§ç³»ç»Ÿï¼Œæ˜¯ä¼šèƒ½å¤Ÿè®©ä½ çœ‹åˆ°è¿™äº›å€¼çš„<br><br>å¦‚æœæ²¡æœ‰ï¼Œå°±è®©dbaç»™ä½ ä¸€ä»½çº¿ä¸Šçš„my.cnfçš„é…ç½®ï¼Œç„¶åä½ åœ¨æµ‹è¯•ç¯å¢ƒè‡ªå·±ç”¨è¿™ä¸ªé…ç½®å¯åŠ¨å®ä¾‹æ¥è§‚å¯Ÿ</p>
                                <p class="reply-time">2019-01-18 17:12</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">è€æ¨åŒå¿—</span>
                            </div>
                            <div class="bd">ç°åœ¨å¾ˆå¤šå…¬å¸éƒ½æ˜¯ä½¿ç”¨dubboæˆ–è€…ç±»ä¼¼dubboçš„rpcè°ƒç”¨ã€‚è¯´è¯´æˆ‘å¯¹dubboçš„ç†è§£        <br>dubbo å­˜æ´»æ£€æµ‹æ„Ÿè§‰åˆ†ä¸ºä¸‹é¢ä¸‰ä¸ªå±‚é¢<br>æœåŠ¡ç«¯ä¸æ³¨å†Œä¸­å¿ƒçš„é“¾æ¥çŠ¶æ€<br>	  é€šå¸¸æ³¨å†Œä¸­å¿ƒæ˜¯zookeeperï¼ŒæœåŠ¡ç«¯æ³¨å†Œä¸´æ—¶èŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯æ³¨å†Œè¿™ä¸ªèŠ‚ç‚¹çš„watchäº‹ä»¶ï¼Œä¸€ä½†æœåŠ¡ç«¯å¤±è”ï¼Œ<br>	  å®¢æˆ·ç«¯å°†æŠŠè¯¥æœåŠ¡ä»è‡ªå·±å¯ç”¨æœåŠ¡åˆ—è¡¨ä¸­ç§»é™¤ã€‚ï¼ˆä¸€ä¸ªæœåŠ¡é€šå¸¸æœ‰å¤šä¸ªæä¾›è€…ï¼Œåªæ˜¯æŠŠå¤±è”çš„æä¾›è€…ç§»é™¤ï¼‰ã€‚<br>	  zookeeperæ˜¯é€šè¿‡å¿ƒè·³å‘ç°æœåŠ¡æä¾›è€…å¤±è”çš„ï¼Œå¿ƒè·³å®é™…ä¸Šå°±æ˜¯ä»¥å›ºå®šçš„é¢‘ç‡ï¼ˆæ¯”å¦‚æ¯ç§’ï¼‰å‘é€æ£€æµ‹çš„æ•°æ®åŒ…ï¼›<br><br>å®¢æˆ·ç«¯ä¸æ³¨å†Œä¸­å¿ƒçš„é“¾æ¥çŠ¶æ€<br>		å®¢æˆ·ç«¯ä¸zookeeperå¤±è”ï¼Œä¼šæš‚æ—¶ä½¿ç”¨è‡ªå·±ç¼“å­˜çš„æœåŠ¡æä¾›è€…åˆ—è¡¨ã€‚å¦‚æœæ¯ä¸ªæä¾›è€…å¤šæ¬¡è°ƒä¸é€šï¼ŒæŠŠå®ƒç§»é™¤ã€‚<br><br>å®¢æˆ·ç«¯ä¸æœåŠ¡å•çš„é“¾æ¥çŠ¶æ€<br>    æœåŠ¡ç«¯æä¾›ç±»ä¼¼äºechoçš„æ–¹æ³•ï¼Œå®¢æˆ·å®šæ—¶è°ƒç”¨ã€‚éƒ¨åˆ†è¿”å›æ­£å¸¸ï¼Œè®¤ä¸ºæœåŠ¡å¤„äºäºšå¥åº·çŠ¶æ€ï¼Œå¦‚æœè¶…è¿‡é˜€å€¼ï¼Œä¼šè¢«é™çº§<br>    ä»æœåŠ¡æä¾›è€…åˆ—è¡¨ç§»é™¤ã€‚è¢«ç§»é™¤çš„æ–¹æ³•å¯èƒ½ä¼šåœ¨è¶…è¿‡ä¸€å®šæ—¶é—´åï¼Œæ‹¿å›æ¥é‡è¯•ï¼Œå¯ä»¥æ¢å¤æˆæ­£å¸¸æœåŠ¡ï¼Œä¹Ÿå¯èƒ½ç»§ç»­é™çº§ã€‚ <br></div>
                            <span class="time">2019-01-18 09:53</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¾ˆå¥½çš„å®è·µåˆ†äº«ã€‚<br>æ˜¯ä¸æ˜¯è¿˜æœ‰é…å¥—ä¸€äº›æœåŠ¡çš„RTæ—¶é—´çš„æŠ¥å‘Šï¼Ÿ<br>æ¯•ç«Ÿechoæ˜¯ä¸€ä¸ªæ¯”è¾ƒè½»é‡çš„è°ƒç”¨ï¼Œæ­£ç¡®ç‡å¯èƒ½æ¯”å®é™…ä¸šåŠ¡è°ƒç”¨çš„æ­£ç¡®ç‡é«˜</p>
                                <p class="reply-time">2019-01-20 13:36</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/69/c6/a591b02a.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å¼ºå“¥</span>
                            </div>
                            <div class="bd">1.åŸºç¡€ç›‘æ§ï¼ŒåŒ…æ‹¬ç¡¬ç›˜ï¼ŒCPUï¼Œç½‘ç»œï¼Œå†…å­˜ç­‰ã€‚<br>2.æœåŠ¡ç›‘æ§ï¼ŒåŒ…æ‹¬jvmï¼ŒæœåŠ¡ç«¯å£ï¼Œæ¥å…¥ä¸Šä¸‹æ¸¸æœåŠ¡çš„è¶…æ—¶ç›‘æ§ç­‰ã€‚<br>3.ä¸šåŠ¡ç›‘æ§ï¼Œä¸»è¦æ˜¯ç›‘æ§ä¸šåŠ¡çš„æµç¨‹æ˜¯å¦å‡ºç°é—®é¢˜ã€‚ <br></div>
                            <span class="time">2019-01-18 09:18</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ğŸ‘ï¼Œè¿™é‡Œçš„â€œè¶…æ—¶ç›‘æ§â€ï¼Œæ˜¯æ€ä¹ˆå¾—åˆ°çš„ï¼Ÿ<br>æ˜¯å•ç‹¬æœ‰å‘½ä»¤æ£€æµ‹ï¼Œè¿˜æ˜¯å»çœ‹ä¸šåŠ¡è¯·æ±‚çš„è¿”å›æ—¶é—´ï¼Ÿ</p>
                                <p class="reply-time">2019-01-18 11:39</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Ryoma</span>
                            </div>
                            <div class="bd">ç°åœ¨çš„æœåŠ¡ä¸­åªåŠ äº†ä¸€ä¸ªhealthCheckçš„æ¥å£ï¼Œå’ŒMySQLä¸­ä½¿ç”¨selectåˆ¤æ–­æ¯”è¾ƒç±»ä¼¼ã€‚å½“æœåŠ¡ä¾èµ–çš„MySQLåŠRedisç­‰ç¬¬ä¸‰æ–¹èµ„æºå‘ç”Ÿé—®é¢˜æ—¶ï¼Œè¿˜æ˜¯ä¸èƒ½æœ‰æ•ˆçš„åˆ¤æ–­ <br></div>
                            <span class="time">2019-01-18 09:11</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/14/05/d4/e06bf86d.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">é•¿æ°</span>
                            </div>
                            <div class="bd">è€å¸ˆè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨gtidæ¨¡å¼ä¸‹ï¼Œå¯¹äºå¤§çš„ddlæ“ä½œï¼Œé‡‡ç”¨åœ¨å¤‡åº“æ‰§è¡Œsql_log_bin=0çš„æ–¹å¼å…ˆæ‰§è¡Œï¼Œç„¶åå†åˆ‡æ¢ä¸»å¤‡çš„æ–¹å¼åœ¨ä¸»åº“å†æ‰§è¡Œï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œddlæ“ä½œæ˜¯ä¸è®°å½•binlogçš„ï¼Œä¸çŸ¥é“å¯¹gtidçš„è®¡æ•°æœ‰ä»€ä¹ˆå½±å“ï¼Œæ˜¯æŒ‰é¡ºåºé€’å¢è¿˜æ˜¯ä¼šè·³è¿‡è¿™ä¸ªåºåˆ—å·ï¼Ÿ<br>å¦å¤–è¡¥å……ä¸€ä¸‹æœ‰äº›dlæ“ä½œæ˜¯ä¸é€‚åˆè¿™ä¸ªä¸»å¤‡åˆ‡æ¢çš„æ–¹å¼ï¼Œæ¯”å¦‚dropä¸€ä¸ªåˆ—ï¼Œå¦‚æœå…ˆåœ¨å¤‡åº“æ‰§è¡Œå°±å¯èƒ½å¯¼è‡´ä¸»å¤‡åŒæ­¥å¼‚å¸¸ã€‚è¿™ä¸ªåœºæ™¯é€‚åˆoscæ–¹å¼æˆ–æŠŠè¯»è¯·æ±‚åˆ‡åˆ°ä¸»åº“ï¼Œå…ˆåœ¨ä¸»åº“æ‰§è¡Œè¿™ä¸¤ç§æ–¹æ¡ˆã€‚ <br></div>
                            <span class="time">2019-01-18 09:07</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¦‚æœset sql_log_bin=0ï¼Œ å°±ä¸è®°å½•binlogï¼Œå°±ä¸ä¼šç»™è¿™ä¸ªäº‹åŠ¡åˆ†é…gtidã€‚<br><br>ä½ è¯´å¾—å¯¹ï¼Œdropåˆ—æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œå°½é‡ä¸åšã€‚æ¯•ç«Ÿä¸šåŠ¡ä»£ç ç›´æ¥æ— è§†è¿™ä¸ªåˆ—å°±å¥½äº†ã€‚ã€‚</p>
                                <p class="reply-time">2019-01-18 11:36</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">çˆ¸çˆ¸å›æ¥äº†</span>
                            </div>
                            <div class="bd">ä¹‹å‰ä¹Ÿç”¨select 1ã€‚åæ¥å‘ç°ï¼Œç¡¬ç›˜æ„å¤–å¡æ»¡æ—¶ï¼Œæœ¬åœ°é“¾æ¥å¾ˆæœ‰å¯èƒ½è¶…æ—¶å¯¼è‡´åˆ¤æ–­å¤±è´¥ã€‚<br>æƒ³é—®é—®è€å¸ˆï¼Œmysqladmin pingè¿™ä¸ªæœºåˆ¶ç”¨æ¥åˆ¤æ–­å¦‚ä½•ï¼Ÿ <br></div>
                            <span class="time">2019-01-18 08:30</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">è·Ÿselect 1 å±äºä¸€ç±»</p>
                                <p class="reply-time">2019-01-18 11:32</p>
                            </div>
                            
                        </div>
                    </li>
                    


                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>